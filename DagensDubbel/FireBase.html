<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Integration Guide - Kent's M√∂nster</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        h2 {
            color: #1e3c72;
            margin-top: 30px;
            margin-bottom: 15px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        h3 {
            color: #2a5298;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .highlight {
            background: #fffacd;
            padding: 15px;
            border-left: 4px solid #f39c12;
            margin: 15px 0;
        }

        .warning {
            background: #ffe6e6;
            padding: 15px;
            border-left: 4px solid #e74c3c;
            margin: 15px 0;
        }

        .info {
            background: #e6f7ff;
            padding: 15px;
            border-left: 4px solid #3498db;
            margin: 15px 0;
        }

        pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-size: 0.9em;
        }

        code {
            background: #ecf0f1;
            color: #e74c3c;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #ddd;
        }

        th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }

        tr:nth-child(even) {
            background: #f8f9fa;
        }

        .pros {
            color: #27ae60;
            font-weight: bold;
        }

        .cons {
            color: #e74c3c;
            font-weight: bold;
        }

        .step {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .step-number {
            display: inline-block;
            background: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
            font-weight: bold;
        }

        footer {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        a {
            color: #3498db;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üî• Firebase Integration Guide</h1>
            <p>Kent's standardm√∂nster f√∂r Firebase Realtime Database</p>
            <p style="margin-top: 1rem;">
                <a href="https://github.com/kentlundgren/AI/tree/main/DagensDubbel" target="_blank" 
                   style="color: white; background: rgba(255,255,255,0.2); padding: 0.5rem 1rem; 
                          border-radius: 5px; text-decoration: none; display: inline-block;">
                    üíª Visa k√§llkod p√• GitHub
                </a>
            </p>
        </header>

        <div class="content">
            <!-- ============================================
                 INTRODUKTION
                 ============================================ -->
            <h2>üìö √ñversikt</h2>
            <div class="section">
                <p>Detta dokument beskriver Kent's standardm√∂nster f√∂r att koppla frontend-applikationer till <strong>Firebase Realtime Database</strong>. M√∂nstret har utvecklats genom tre tidigare projekt och √§r anpassat f√∂r "glada amat√∂rer" som vill ha en enkel, gratis backend-l√∂sning.</p>
                
                <div class="highlight">
                    <strong>üéØ Huvudfunktionalitet:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Realtids-databas som synkas mellan anv√§ndare</li>
                        <li>Ingen egen server kr√§vs</li>
                        <li>Gratis tier upp till 1GB data + 10GB nedladdning/m√•nad</li>
                        <li>Automatisk synkronisering mellan enheter</li>
                    </ul>
                </div>
            </div>

            <!-- ============================================
                 KENT HAR ANV√ÑNT TV√Ö OLIKA FIREBASE-M√ñNSTER
                 ============================================ -->
            <h2>üé≠ Kent's tv√• Firebase-m√∂nster - Vilket ska du v√§lja?</h2>
            
            <div class="section">
                <p>Kent har framg√•ngsrikt implementerat Firebase i flera projekt med <strong>tv√• olika m√∂nster</strong>. B√•da fungerar utm√§rkt, men passar olika anv√§ndningsfall:</p>
                
                <h3>M√∂nster A: Compat SDK + Firestore (Bjerred-skylt 2024) ‚≠ê ENKLAST</h3>
                <div class="highlight">
                    <strong>‚úÖ F√∂rdelar:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Mycket enklare att komma ig√•ng - ingen CSP, inga modules</li>
                        <li>Firestore = dokumentdatabas (b√§ttre f√∂r komplexa queries)</li>
                        <li>Fungerar direkt utan konfiguration</li>
                        <li>Perfekt f√∂r nyb√∂rjare</li>
                    </ul>
                    <strong>‚ùå Nackdelar:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>√Ñldre API (men kommer st√∂djas l√§nge)</li>
                        <li>N√•got st√∂rre bundle-size</li>
                    </ul>
                </div>

                <h3>M√∂nster B: Modular SDK + Realtime Database (Quiz-projekt) ‚≠ê‚≠ê MODERNARE</h3>
                <div class="info">
                    <strong>‚úÖ F√∂rdelar:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Modernare kodstil (ES6 modules)</li>
                        <li>Realtime Database = enklare JSON-struktur, l√§gre latens</li>
                        <li>Mindre bundle-size (tree-shaking)</li>
                        <li>Framtidss√§ker</li>
                    </ul>
                    <strong>‚ùå Nackdelar:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Kr√§ver CSP (Content Security Policy)</li>
                        <li>Mer komplex setup</li>
                        <li>Module imports kan vara f√∂rvirrande f√∂r nyb√∂rjare</li>
                    </ul>
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>Aspekt</th>
                            <th>M√∂nster A: Compat + Firestore</th>
                            <th>M√∂nster B: Modular + Realtime DB</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Anv√§nt i projekt</strong></td>
                            <td><a href="https://kentlundgren.github.io/Bjerred-skylt/" target="_blank">Bjerred-skylt (2024)</a></td>
                            <td>Quiz-projekt (2025)</td>
                        </tr>
                        <tr>
                            <td><strong>SDK Version</strong></td>
                            <td>v10.7.0 (compat)</td>
                            <td>v11.0.0 (modular)</td>
                        </tr>
                        <tr>
                            <td><strong>Import-stil</strong></td>
                            <td><code>&lt;script src="..."&gt;</code></td>
                            <td><code>import { ... } from '...'</code></td>
                        </tr>
                        <tr>
                            <td><strong>CSP kr√§vs?</strong></td>
                            <td>‚ùå Nej</td>
                            <td>‚úÖ Ja</td>
                        </tr>
                        <tr>
                            <td><strong>Databas-typ</strong></td>
                            <td>Firestore (dokument)</td>
                            <td>Realtime Database (JSON)</td>
                        </tr>
                        <tr>
                            <td><strong>Global objekt</strong></td>
                            <td><code>firebase</code></td>
                            <td><code>window.firebaseDb</code></td>
                        </tr>
                        <tr>
                            <td><strong>Setup-tid</strong></td>
                            <td>‚ö° 5 minuter</td>
                            <td>‚è±Ô∏è 10 minuter</td>
                        </tr>
                        <tr>
                            <td><strong>Sv√•righetsgrad</strong></td>
                            <td class="pros">‚≠ê Mycket l√§tt</td>
                            <td class="cons">‚≠ê‚≠ê Lite sv√•rare</td>
                        </tr>
                        <tr>
                            <td><strong>Rekommendation</strong></td>
                            <td>F√∂rsta Firebase-projektet</td>
                            <td>N√§r du l√§rt dig grunderna</td>
                        </tr>
                    </tbody>
                </table>

                <div class="warning">
                    <strong>üí° Kent's rekommendation f√∂r Dagens Dubbel:</strong><br><br>
                    Eftersom detta √§r ditt fj√§rde Firebase-projekt och du redan k√§nner till b√•da m√∂nstren, v√§lj baserat p√• behov:
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>M√∂nster A (Compat + Firestore)</strong> - Om du vill ha snabbast setup och Firestore's query-kapacitet</li>
                        <li><strong>M√∂nster B (Modular + Realtime DB)</strong> - Om du vill ha realtidssynk med l√§gsta latens</li>
                    </ul>
                    <strong>F√∂r Dagens Dubbel:</strong> M√∂nster A √§r troligen b√§st - enklare och Firestore hanterar komplexa queries b√§ttre (t.ex. "hitta alla veckor d√§r Kent vann").
                </div>
            </div>

            <!-- ============================================
                 M√ñNSTER A: COMPAT SDK + FIRESTORE (ENKLAST)
                 ============================================ -->
            <h2>üîß M√∂nster A: Compat SDK + Firestore (Bjerred-skylt)</h2>
            
            <div class="section">
                <p>Detta √§r det <strong>enklaste</strong> s√§ttet att komma ig√•ng med Firebase. Ingen CSP kr√§vs, inga module imports.</p>

                <h3>Steg 1: L√§gg till Firebase SDK (compat)</h3>
                <p>L√§gg till f√∂ljande i <code>&lt;head&gt;</code> eller innan <code>&lt;/body&gt;</code>:</p>

<pre>&lt;!-- =======================================================================
     FIREBASE SDK (COMPAT-BIBLIOTEK)
     Version: 10.7.0 eller senare
     Databas: Firestore (dokumentdatabas)
     ======================================================================= --&gt;

&lt;!-- Firebase App (grundl√§ggande - kr√§vs alltid) --&gt;
&lt;script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"&gt;&lt;/script&gt;

&lt;!-- Firebase Firestore (f√∂r databas) --&gt;
&lt;script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"&gt;&lt;/script&gt;

&lt;!-- Firebase konfiguration (kan vara separat fil eller inline) --&gt;
&lt;script&gt;
    // FIREBASE KONFIGURATION - F√Ö DETTA FR√ÖN FIREBASE CONSOLE
    const firebaseConfig = {
        apiKey: "DIN_API_KEY",
        authDomain: "DITT_PROJEKT.firebaseapp.com",
        projectId: "DITT_PROJEKT",
        storageBucket: "DITT_PROJEKT.appspot.com",
        messagingSenderId: "DITT_ID",
        appId: "DITT_APP_ID"
    };

    // INITIERA FIREBASE
    firebase.initializeApp(firebaseConfig);
    
    // G√ñR FIRESTORE TILLG√ÑNGLIG GLOBALT
    const db = firebase.firestore();
    
    console.log("Firebase initierad! Projekt:", firebaseConfig.projectId);
&lt;/script&gt;

&lt;!-- Extern JavaScript-fil f√∂r funktionalitet (EFTER Firebase) --&gt;
&lt;script src="script.js"&gt;&lt;/script&gt;</pre>

                <div class="info">
                    <strong>üí° F√∂rdel med separat config-fil:</strong><br>
                    Du kan skapa <code>firebase-config.js</code> och importera den:
<pre>&lt;script src="firebase-config.js"&gt;&lt;/script&gt;
&lt;script&gt;
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
&lt;/script&gt;</pre>
                    Detta h√•ller koden mer organiserad.
                </div>

                <h3>Steg 2: Spara data till Firestore</h3>
<pre>// SPARA DATA TILL FIRESTORE (COMPAT API)
function saveWeekDataToFirestore(weekData) {
    // FIRESTORE ANV√ÑNDER COLLECTIONS OCH DOCUMENTS
    db.collection('dagensDubbel')
        .doc('veckor')
        .collection('items')
        .add(weekData)  // ADD = automatiskt ID
        .then((docRef) => {
            console.log('‚úÖ Sparad med ID:', docRef.id);
            alert('‚úÖ Data sparad i molnet!');
        })
        .catch((error) => {
            console.error('‚ùå Fel:', error);
            alert('‚ùå Kunde inte spara: ' + error.message);
        });
}

// EXEMPEL: SPARA VECKA 1
const weekData = {
    week: 1,
    date: "2026-02-07",
    players: {
        kent: { race1: [2,5,6], race2: [6,11], bet: 45 }
    },
    results: {
        winner_race1: 5,
        winner_race2: 11,
        dd_payout: 156.50
    },
    timestamp: firebase.firestore.FieldValue.serverTimestamp()
};

saveWeekDataToFirestore(weekData);</pre>

                <h3>Steg 3: L√§sa data fr√•n Firestore</h3>
<pre>// L√ÑSA DATA FR√ÖN FIRESTORE (REALTID)
function loadWeeksFromFirestore() {
    // ONSE SNAPSHOT = LYSSNAR P√Ö √ÑNDRINGAR I REALTID
    db.collection('dagensDubbel')
        .doc('veckor')
        .collection('items')
        .orderBy('week', 'asc')  // SORTERA EFTER VECKONUMMER
        .onSnapshot((snapshot) => {
            const weeks = [];
            snapshot.forEach((doc) => {
                weeks.push({
                    firestoreId: doc.id,  // Spara Firestore-ID
                    ...doc.data()
                });
            });
            
            console.log(`üì• Laddade ${weeks.length} veckor fr√•n Firestore`);
            displayWeeks(weeks);
        }, (error) => {
            console.error('‚ùå Fel vid l√§sning:', error);
        });
}

// K√ñR VID SIDLADDNING
loadWeeksFromFirestore();</pre>

                <h3>Steg 4: Uppdatera och radera data</h3>
<pre>// UPPDATERA BEFINTLIG VECKA
function updateWeekInFirestore(firestoreId, updates) {
    db.collection('dagensDubbel')
        .doc('veckor')
        .collection('items')
        .doc(firestoreId)
        .update(updates)
        .then(() => {
            console.log('‚úÖ Uppdaterad');
            alert('‚úÖ Data uppdaterad!');
        })
        .catch((error) => {
            console.error('‚ùå Fel:', error);
        });
}

// RADERA VECKA
function deleteWeekFromFirestore(firestoreId) {
    if (!confirm('Radera denna vecka fr√•n molnet?')) return;
    
    db.collection('dagensDubbel')
        .doc('veckor')
        .collection('items')
        .doc(firestoreId)
        .delete()
        .then(() => {
            console.log('‚úÖ Raderad');
            alert('‚úÖ Data raderad!');
        })
        .catch((error) => {
            console.error('‚ùå Fel:', error);
        });
}</pre>

                <div class="highlight">
                    <strong>üéØ Firestore vs Realtime Database:</strong><br><br>
                    <strong>Firestore √§r b√§ttre n√§r:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Du beh√∂ver komplexa queries (WHERE-fr√•gor, sortering, filtrering)</li>
                        <li>Du vill ha b√§ttre offlinest√∂d automatiskt</li>
                        <li>Du har mycket data och beh√∂ver paginering</li>
                    </ul>
                    <strong>Realtime Database √§r b√§ttre n√§r:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Du vill ha l√§gsta m√∂jliga latens (realtidssynk √§r snabbare)</li>
                        <li>Du har enklare data-struktur (JSON)</li>
                        <li>Du vill ha enklare priss√§ttning</li>
                    </ul>
                </div>
            </div>

            <!-- ============================================
                 M√ñNSTER B: MODULAR SDK + REALTIME DATABASE
                 ============================================ -->
            <h2>üîß M√∂nster B: Modular SDK + Realtime Database (Quiz-projekt)</h2>
            
            <div class="section">
                <p>Detta √§r det <strong>modernare</strong> m√∂nstret med ES6 modules. Kr√§ver CSP men ger b√§ttre performance.</p>

                <h3>Steg 1: Content Security Policy (CSP)</h3>
                <p>L√§gg till f√∂ljande i <code>&lt;head&gt;</code> f√∂r att till√•ta Firebase-anslutningar:</p>

<pre>&lt;!-- FIREBASE CSP - TILL√ÖTER ANSLUTNING TILL FIREBASE --&gt;
&lt;meta http-equiv="Content-Security-Policy" content="
    default-src 'self' https://*.firebaseio.com https://*.firebasedatabase.app https://*.googleapis.com;
    connect-src 'self' https://*.firebaseio.com https://*.firebasedatabase.app https://*.googleapis.com https://www.googleapis.com wss://*.firebaseio.com wss://*.firebasedatabase.app;
    script-src 'self' 'unsafe-inline' 'unsafe-eval' https://*.firebaseio.com https://*.firebasedatabase.app https://www.gstatic.com https://www.gstatic.com/firebasejs/11.0.0/ https://*.googleapis.com;
    script-src-elem 'self' 'unsafe-inline' 'unsafe-eval' https://*.firebaseio.com https://*.firebasedatabase.app https://www.gstatic.com https://www.gstatic.com/firebasejs/11.0.0/ https://*.googleapis.com;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' https://fonts.gstatic.com;
    frame-src 'self' https://*.firebaseapp.com;
    img-src 'self' data:;
"&gt;</pre>

                <div class="info">
                    <strong>üí° Varf√∂r CSP?</strong><br>
                    Content Security Policy skyddar mot XSS-attacker genom att kontrollera vilka k√§llor som f√•r k√∂ra scripts. Firebase kr√§ver dessa specifika dom√§ner f√∂r att fungera.
                </div>
            </div>

            <div class="section">
                <h3>Steg 2: Firebase SDK Import (ES6 Modules)</h3>
                <p>Kent anv√§nder <strong>Firebase SDK v11.0.0</strong> med ES6 module syntax:</p>

<pre>&lt;script type="module"&gt;
    // ============================================
    // FIREBASE INITIALISERING - KENT'S M√ñNSTER
    // ============================================
    
    import { initializeApp, getApps } from 'https://www.gstatic.com/firebasejs/11.0.0/firebase-app.js';
    import { getDatabase, ref, set, push, onValue, remove } from 'https://www.gstatic.com/firebasejs/11.0.0/firebase-database.js';

    console.log('FIREBASE v11.0.0 MODULER LADDADE');

    const initFirebase = async () =&gt; {
        console.log('INITIERAR FIREBASE...');

        try {
            // FIREBASE KONFIGURATION - H√ÑR L√ÑGGER DU DIN EGEN CONFIG
            const firebaseConfig = {
                apiKey: "DIN_API_KEY",
                authDomain: "DITT_PROJEKT.firebaseapp.com",
                databaseURL: "https://DITT_PROJEKT.firebasedatabase.app",
                projectId: "DITT_PROJEKT",
                storageBucket: "DITT_PROJEKT.appspot.com",
                messagingSenderId: "DITT_ID",
                appId: "DITT_APP_ID"
            };

            // Kontrollera om Firebase redan √§r initialiserad
            if (!getApps().length) {
                const app = initializeApp(firebaseConfig);
                console.log('FIREBASE APP INITIERAD MED VERSION 11.0.0');
            } else {
                console.log('FIREBASE APP REDAN INITIALISERAD');
            }

            const db = getDatabase();
            console.log('FIREBASE DATABASE REFERENS SKAPAD');

            // G√ñR FIREBASE TILLG√ÑNGLIGT GLOBALT F√ñR √ñVRIGA SCRIPTS
            window.firebaseDb = db;
            window.firebaseRef = ref;
            window.firebaseSet = set;
            window.firebasePush = push;
            window.firebaseOnValue = onValue;  // F√ñR ATT L√ÑSA DATA
            window.firebaseRemove = remove;    // F√ñR ATT RADERA DATA
            window.firebaseReady = true;

            // SKICKA EVENT S√Ö ATT √ñVRIGA SCRIPTS VET ATT FIREBASE √ÑR REDO
            window.dispatchEvent(new Event('firebaseReady'));
            console.log('FIREBASE √ÑR REDO F√ñR ANV√ÑNDNING');

        } catch (error) {
            console.error('FEL VID FIREBASE-INITIERING:', error);
            window.firebaseReady = false;
            window.dispatchEvent(new CustomEvent('firebaseError', { detail: error }));
        }
    };

    // STARTA FIREBASE N√ÑR SIDAN LADDAS
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initFirebase);
    } else {
        initFirebase();
    }
&lt;/script&gt;</pre>

                <div class="warning">
                    <strong>‚ö†Ô∏è VIKTIGT:</strong> Byt ut <code>firebaseConfig</code> med din egen Firebase-projektkonfiguration som du f√•r fr√•n Firebase Console.
                </div>
            </div>

            <div class="section">
                <h3>Steg 3: Anv√§nda Firebase i ditt huvudscript</h3>
                <p>I din <code>&lt;script&gt;</code> eller <code>script.js</code>-fil, lyssna p√• n√§r Firebase √§r redo:</p>

<pre>// V√ÑNTA P√Ö ATT FIREBASE SKA VARA REDO
window.addEventListener('firebaseReady', () => {
    console.log('Firebase √§r redo! Kan nu spara och l√§sa data.');
    
    // NU KAN DU ANV√ÑNDA FIREBASE-FUNKTIONERNA
});

// HANTERA FIREBASE-FEL
window.addEventListener('firebaseError', (event) => {
    console.error('Firebase-fel:', event.detail);
    alert('‚ùå Kunde inte ansluta till Firebase. Kontrollera internetanslutning.');
});

// ============================================
// SPARA DATA TILL FIREBASE
// ============================================
function saveToFirebase(data) {
    if (!window.firebaseReady) {
        alert('Firebase √§r inte redo √§nnu. V√§nta ett √∂gonblick.');
        return;
    }
    
    try {
        const db = window.firebaseDb;
        const dbRef = window.firebaseRef(db, 'dagensDubbel/veckor');
        
        // PUSH = SKAPA NYTT UNIKT ID AUTOMATISKT
        window.firebasePush(dbRef, data)
            .then(() => {
                console.log('‚úÖ Data sparad till Firebase:', data);
                alert('‚úÖ Data sparad!');
            })
            .catch((error) => {
                console.error('‚ùå Fel vid sparande:', error);
                alert('‚ùå Kunde inte spara data: ' + error.message);
            });
            
    } catch (error) {
        console.error('Firebase-fel:', error);
        alert('‚ùå Firebase-fel: ' + error.message);
    }
}

// ============================================
// L√ÑSA DATA FR√ÖN FIREBASE (REALTID)
// ============================================
function readFromFirebase() {
    if (!window.firebaseReady) {
        alert('Firebase √§r inte redo √§nnu.');
        return;
    }
    
    const db = window.firebaseDb;
    const dbRef = window.firebaseRef(db, 'dagensDubbel/veckor');
    
    // ONVALUE = LYSSNAR P√Ö √ÑNDRINGAR I REALTID
    window.firebaseOnValue(dbRef, (snapshot) => {
        if (snapshot.exists()) {
            const data = snapshot.val();
            console.log('üì• Data fr√•n Firebase:', data);
            
            // KONVERTERA FIREBASE-OBJEKT TILL ARRAY
            const weeks = Object.keys(data).map(key => ({
                id: key,
                ...data[key]
            }));
            
            console.log('Veckor som array:', weeks);
            // H√ÑR KAN DU UPPDATERA DITT UI
            
        } else {
            console.log('Ingen data i Firebase √§nnu.');
        }
    }, (error) => {
        console.error('‚ùå Fel vid l√§sning:', error);
    });
}

// ============================================
// RADERA DATA FR√ÖN FIREBASE
// ============================================
function deleteFromFirebase(weekId) {
    if (!window.firebaseReady) {
        alert('Firebase √§r inte redo √§nnu.');
        return;
    }
    
    const db = window.firebaseDb;
    const dbRef = window.firebaseRef(db, `dagensDubbel/veckor/${weekId}`);
    
    window.firebaseRemove(dbRef)
        .then(() => {
            console.log('‚úÖ Vecka raderad');
            alert('‚úÖ Data raderad!');
        })
        .catch((error) => {
            console.error('‚ùå Fel vid radering:', error);
            alert('‚ùå Kunde inte radera: ' + error.message);
        });
}

// ============================================
// EXEMPEL: SPARA VECKODATA
// ============================================
function saveWeekData() {
    const weekData = {
        week: 1,
        date: "2026-02-07",
        notes: "STL-final",
        players: {
            kent: { race1: [2,5,6], race2: [6,11], bet: 45 },
            lotta: { race1: [1,3], race2: [7,9], bet: 40 }
        },
        results: {
            winner_race1: 5,
            winner_race2: 11,
            dd_payout: 156.50
        },
        timestamp: new Date().toISOString()
    };
    
    saveToFirebase(weekData);
}</pre>
            </div>

            <!-- ============================================
                 DATASTRUKTUR I FIREBASE
                 ============================================ -->
            <h2>üóÑÔ∏è Datastruktur i Firebase Realtime Database</h2>
            
            <div class="section">
                <p>Firebase lagrar data i JSON-format i en tr√§dstruktur:</p>

<pre>{
  "dagensDubbel": {
    "veckor": {
      "-NjK3s4LmPQr8xYzAbc1": {
        "week": 1,
        "date": "2026-02-07",
        "notes": "STL-final",
        "players": {
          "kent": {
            "race1": [2, 5, 6],
            "race2": [6, 11, 15],
            "bet": 45
          },
          "lotta": { ... }
        },
        "results": {
          "winner_race1": 5,
          "winner_race2": 11,
          "dd_payout": 156.50
        },
        "timestamp": "2026-02-07T14:30:00.000Z"
      },
      "-NjK3s4LmPQr8xYzAbc2": {
        // Vecka 2...
      }
    }
  }
}</pre>

                <div class="info">
                    <strong>üí° Nyckel-struktur:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><code>dagensDubbel/veckor</code> - Huvuds√∂kv√§gen f√∂r veckodata</li>
                        <li><code>-NjK3s4...</code> - Automatiskt genererad unik ID (fr√•n push)</li>
                        <li>Anv√§nd <code>ref(db, 'path/to/data')</code> f√∂r att referera till data</li>
                    </ul>
                </div>
            </div>

            <!-- ============================================
                 SETUP FIREBASE-PROJEKT
                 ============================================ -->
            <h2>üöÄ Setup: Skapa Firebase-projekt (SAMMA f√∂r b√•da m√∂nstren)</h2>
            
            <div class="section">
                <div class="info">
                    <strong>üí° Setup-processen √§r n√§stan identisk f√∂r b√•da m√∂nstren!</strong><br><br>
                    <strong>Steg 1-4:</strong> EXAKT samma (skapa projekt, l√§gg till webbapp, kopiera config)<br>
                    <strong>Steg 5:</strong> OLIKA - v√§lj Firestore (M√∂nster A) eller Realtime Database (M√∂nster B)<br>
                    <strong>Steg 6:</strong> S√§kerhetsregler - samma koncept, olika syntax<br>
                    <strong>Steg 7:</strong> SAMMA - testa anslutningen
                </div>

                <div class="warning" style="margin: 20px 0;">
                    <strong>üö® VANLIGA MISSTAG - L√ÑS DETTA F√ñRST!</strong><br><br>
                    
                    <strong style="font-size: 1.1em;">MISSTAG 1 - I STEG 3 (projekt√∂versikten):</strong><br>
                    <strong style="color: #27ae60; font-size: 1.2em;">‚úÖ KLICKA P√Ö: "+ Add app"</strong> (knappen h√∂gst upp)<br>
                    <strong style="color: #e74c3c; font-size: 1.2em;">‚ùå KLICKA INTE P√Ö: "Tell us about your app"</strong> (Gemini AI-f√∂rslag)<br><br>
                    
                    <strong>Varf√∂r?</strong> Firebase visar flera "Next steps with Gemini"-kort med AI-f√∂rslag. Dessa √§r valfria och inte n√∂dv√§ndiga f√∂r att komma ig√•ng. Vi beh√∂ver bara klicka p√• <strong>"+ Add app"</strong> f√∂r att registrera v√•r webbapp!<br><br>
                    
                    <strong>üì∏ Visuell guide:</strong> Se bilden <code>projektoversikten.jpg</code> i projektmappen - den r√∂da pilen visar exakt var "+ Add app" finns!<br><br>
                    
                    <hr style="margin: 20px 0; border: 1px solid rgba(255,255,255,0.3);">
                    
                    <strong style="font-size: 1.1em;">MISSTAG 2 - I STEG 5 (skapa databas):</strong><br>
                    <strong style="color: #27ae60; font-size: 1.2em;">‚úÖ V√ÑLJ: "Start in test mode"</strong><br>
                    <strong style="color: #e74c3c; font-size: 1.2em;">‚ùå V√ÑLJ INTE: "Start in production mode"</strong> (f√∂rvald men fel f√∂r utveckling!)<br><br>
                    
                    <strong>Varf√∂r?</strong> Firebase har √§ndrat sitt standardval (2025-2026) och f√∂rv√§ljer nu "production mode" som blockerar all data om du inte har autentisering. F√∂r utveckling beh√∂ver du <strong>"test mode"</strong> som √§r √∂ppet i 30 dagar!<br><br>
                    
                    <strong>üì∏ Visuell guide:</strong> Se bilden <code>Create_a_database.jpg</code> i projektmappen - visar sk√§rmen d√§r du m√•ste v√§lja test mode!
                </div>

                <div class="step">
                    <span class="step-number">1</span>
                    <strong>G√• till Firebase Console och logga in</strong><br>
                    Bes√∂k <a href="https://console.firebase.google.com/" target="_blank">https://console.firebase.google.com/</a><br><br>
                    
                    <strong>Vad du ser:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>F√∂rsta g√•ngen:</strong> Google-inloggning - logga in med ditt Gmail-konto</li>
                        <li><strong>Efter inloggning:</strong> Firebase Console med en stor bl√• knapp <strong>"Create a project"</strong> eller <strong>"Add project"</strong></li>
                    </ul>
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <strong>Skapa nytt projekt</strong><br>
                    Klicka p√• <strong>"Create a project"</strong> eller <strong>"Add project"</strong> (stora bl√• knappen).<br><br>
                    
                    <strong>F√∂lj guiden:</strong><br><br>
                    
                    <strong>Steg 1 av 3 - Projektnamn:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Skriv ett namn (t.ex. <code>dagens-dubbel</code>)</li>
                        <li>Kryssa i "I accept the Firebase terms"</li>
                        <li>Klicka <strong>"Continue"</strong></li>
                    </ul>
                    
                    <strong>Steg 2 av 3 - Google Analytics (valfritt):</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Du kan l√§mna "Enable Google Analytics" p√•slaget (rekommenderat)</li>
                        <li>ELLER st√§nga av det om du inte vill ha analytics</li>
                        <li>Klicka <strong>"Continue"</strong></li>
                    </ul>
                    
                    <strong>Steg 3 av 3 - Analytics-konfiguration (om aktiverat):</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>V√§lj ett Analytics-konto (ofta "Default Account for Firebase")</li>
                        <li>Klicka <strong>"Create project"</strong></li>
                    </ul>
                    
                    <strong>‚è±Ô∏è V√§nta 30-60 sekunder...</strong><br>
                    Firebase skapar nu ditt projekt. N√§r det √§r klart ser du "Your new project is ready!" ‚Üí Klicka <strong>"Continue"</strong>.
                    
                    <div class="info" style="margin-top: 15px;">
                        <strong>üí° Du kommer nu till projekt√∂versikten</strong> (hemsk√§rmen f√∂r ditt nya Firebase-projekt). H√§r ser du olika ikoner f√∂r att l√§gga till iOS, Android, Web, etc.
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">3</span>
                    <strong>L√§gg till en webbapp - KLICKA P√Ö "+ Add app" ‚ö†Ô∏è</strong><br>
                    Du √§r nu i <strong>projekt√∂versikten</strong> (Project Overview).<br><br>
                    
                    <div class="warning" style="margin: 15px 0;">
                        <strong>üö® VIKTIGT - R√ÑTT KNAPP ATT KLICKA P√Ö!</strong><br><br>
                        <strong style="font-size: 1.2em; color: #e74c3c;">‚ûú Klicka p√•: "+ Add app"</strong><br>
                        <em>Knappen finns l√§ngst upp p√• sidan, precis under projektnamnet "dagens-dubbel"</em><br><br>
                        
                        <strong style="color: #e74c3c;">‚ùå KLICKA INTE P√Ö:</strong>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li><strong>"Tell us about your app"</strong> - Detta √§r Gemini AI-f√∂rslag (beh√∂vs inte)</li>
                            <li><strong>"Build a backend"</strong> - Gemini AI-f√∂rslag (ignorera)</li>
                            <li><strong>"Monetize your app"</strong> - Gemini AI-f√∂rslag (ignorera)</li>
                            <li><strong>"Host a web app"</strong> - Gemini AI-f√∂rslag (vi anv√§nder GitHub Pages)</li>
                        </ul>
                        <br>
                        <strong>üí° Tips:</strong> Alla kort med rubriken "Next steps with Gemini" √§r bara AI-f√∂rslag som du kan ignorera. Vi f√∂ljer denna guide ist√§llet!
                    </div>
                    
                    <strong>Vad du ser p√• sk√§rmen:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>√ñverst:</strong> 
                            <code style="background: #f0f0f0; padding: 5px;">dagens-dubbel   Spark plan</code><br>
                            <code style="background: #e8f5e9; padding: 5px; font-weight: bold;">‚ûï Add app</code> ‚Üê <strong style="color: #27ae60;">KLICKA H√ÑR!</strong>
                        </li>
                        <li><strong>Under det:</strong> "Hello, Kent - Welcome to your Firebase project!"</li>
                        <li><strong>L√§ngre ner:</strong> Gemini-f√∂rslag i orange ramar (ignorera dessa)</li>
                    </ul>
                    
                    <strong>Steg-f√∂r-steg efter du klickat "+ Add app":</strong>
                    <ol style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>En popup √∂ppnas</strong> med fyra plattformar:<br>
                            üì± iOS | üçé Android | <strong>üåê Web</strong> | üéÆ Unity
                        </li>
                        <li><strong>Klicka p√• üåê Web</strong> (ikonen som ser ut som <code>&lt;/&gt;</code>)</li>
                        <li><strong>Ny sk√§rm √∂ppnas:</strong> "Add Firebase to your web app"
                            <ul style="margin-top: 5px;">
                                <li>Skriv "App nickname": <code>dagens-dubbel-web</code></li>
                                <li>Kryssa <strong>INTE</strong> i "Also set up Firebase Hosting" (vi anv√§nder GitHub Pages)</li>
                                <li>Klicka <strong>"Register app"</strong></li>
                            </ul>
                        </li>
                    </ol>
                    
                    <div class="info" style="margin-top: 15px;">
                        <strong>üì∏ Se bifogad bild:</strong> <code>projektoversikten.jpg</code> i projektmappen visar exakt var "+ Add app"-knappen finns (med r√∂d pil).
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">4</span>
                    <strong>Kopiera Firebase Config (VIKTIGT! ‚úÖ)</strong><br>
                    Efter du registrerat appen visar Firebase en <strong>kod-snippet</strong> med din Firebase-konfiguration.<br><br>
                    
                    <strong>Leta efter denna kod:</strong>
<pre style="font-size: 0.85em;">const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "dagens-dubbel-a1b2c.firebaseapp.com",
  projectId: "dagens-dubbel-a1b2c",
  storageBucket: "dagens-dubbel-a1b2c.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};</pre>
                    
                    <strong>G√∂r detta:</strong>
                    <ol style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Kopiera hela firebaseConfig-objektet</strong> (markera och Ctrl+C)</li>
                        <li>Spara det i en textfil eller direkt i din HTML-fil</li>
                        <li>Klicka <strong>"Continue to console"</strong></li>
                    </ol>
                    
                    <div class="highlight">
                        <strong>üí° SAMMA config fungerar f√∂r B√ÖDA m√∂nstren!</strong><br>
                        Denna config kan anv√§ndas b√•de f√∂r M√∂nster A (Compat + Firestore) och M√∂nster B (Modular + Realtime DB). Du beh√∂ver inte skapa tv√• olika projekt!
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">5</span>
                    <strong>Aktivera databas (V√ÑLJ ETT ALTERNATIV) üî•</strong><br><br>
                    
                    <div class="warning">
                        <strong>‚ö†Ô∏è VIKTIGT VAL - L√§s detta f√∂rst!</strong><br><br>
                        <strong>F√∂r Dagens Dubbel rekommenderar jag M√∂nster A (Firestore)</strong> eftersom du f√•r kraftfullare queries.<br>
                        Men du kan ocks√• v√§lja M√∂nster B (Realtime Database) om du vill ha l√§gre latens f√∂r realtidssynk.
                    </div>
                    
                    <strong>üÖ∞Ô∏è F√∂r M√∂nster A (Firestore) - REKOMMENDERAT:</strong><br><br>
                    
                    <strong>Steg-f√∂r-steg:</strong>
                    <ol style="margin-left: 20px; margin-top: 10px;">
                        <li>Titta p√• <strong>v√§nster sidmeny</strong> i Firebase Console</li>
                        <li>Klicka p√• <strong>"Build"</strong> (expandera menyn om den √§r st√§ngd)</li>
                        <li>Klicka p√• <strong>"Firestore Database"</strong></li>
                        <li>Klicka p√• den stora knappen <strong>"Create database"</strong></li>
                        <li><strong>V√§lj Database ID & location:</strong>
                            <ul style="margin-top: 5px;">
                                <li>L√§mna Database ID som standard: <code>(default)</code></li>
                                <li>V√§lj region: <strong>"europe-west1 (Belgium)"</strong></li>
                                <li>Klicka <strong>"Next"</strong></li>
                            </ul>
                        </li>
                        <li><strong>‚ö†Ô∏è VIKTIGT VAL - V√§lj s√§kerhetsl√§ge (Configure):</strong><br><br>
                            
                            <div class="warning" style="margin: 15px 0;">
                                <strong>üö® OBSERVERA: Firebase f√∂rv√§ljer "production mode"!</strong><br><br>
                                
                                <strong style="font-size: 1.1em;">Du kommer att se tv√• alternativ:</strong><br><br>
                                
                                <strong style="color: #e74c3c;">‚ö™ Start in production mode</strong> ‚Üê <strong>F√ñRVALD MEN FEL F√ñR UTVECKLING!</strong><br>
                                <code>allow read, write: if false;</code><br>
                                <em style="margin-left: 20px;">‚ùå Allt blockerat - om√∂jligt att testa utan autentisering</em><br><br>
                                
                                <strong style="color: #27ae60;">‚ö™ Start in test mode</strong> ‚Üê <strong style="font-size: 1.2em;">V√ÑLJ DENNA! ‚úÖ</strong><br>
                                <code>allow read, write: if true;</code><br>
                                <em style="margin-left: 20px;">‚úÖ √ñppet i 30 dagar - perfekt f√∂r utveckling och testning</em><br><br>
                                
                                <strong>üì∏ Se bilden:</strong> <code>Create_a_database.jpg</code> i projektmappen visar exakt denna sk√§rm.<br><br>
                                
                                <strong style="color: #e74c3c;">‚ö†Ô∏è VIKTIG INFO:</strong>
                                <ul style="margin-left: 20px; margin-top: 10px;">
                                    <li>Firebase har √§ndrat sitt standardval (2025-2026)</li>
                                    <li>Tidigare var "test mode" standard</li>
                                    <li>Nu √§r "production mode" f√∂rvald - men det √§r FEL f√∂r utveckling!</li>
                                    <li><strong>Du M√ÖSTE aktivt klicka p√• "Start in test mode"</strong></li>
                                </ul>
                                
                                <strong style="color: #27ae60;">‚úÖ Varf√∂r test mode f√∂r utveckling?</strong>
                                <ul style="margin-left: 20px; margin-top: 10px;">
                                    <li>Du kan testa direkt utan autentisering</li>
                                    <li>30 dagars utvecklingstid (Firebase p√•minner dig sedan)</li>
                                    <li>Byt till s√§krare regler innan publicering</li>
                                    <li>Standard f√∂r utveckling sedan Firebase skapades</li>
                                </ul>
                            </div>
                            
                            <strong>G√∂r detta:</strong>
                            <ul style="margin-top: 10px;">
                                <li><strong>Klicka p√• radioknappen:</strong> "Start in <strong>test mode</strong>"</li>
                                <li><strong>Klicka:</strong> <strong>"Create"</strong> (bl√• knappen l√§ngst ner till h√∂ger)</li>
                            </ul>
                        </li>
                        <li>‚è±Ô∏è <strong>V√§nta 10-30 sekunder...</strong> Firestore aktiveras nu!</li>
                    </ol>
                    
                    <strong>‚úÖ Firestore √§r redo n√§r du ser:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>En tom databas-vy med "Start collection" knapp</li>
                        <li>Flikar: "Data" | "Rules" | "Indexes" | "Usage"</li>
                        <li>I "Rules"-fliken ser du: <code>allow read, write: if true;</code></li>
                    </ul><br>
                    
                    <strong>üÖ±Ô∏è F√∂r M√∂nster B (Realtime Database) - ALTERNATIV:</strong><br><br>
                    
                    <strong>Steg-f√∂r-steg:</strong>
                    <ol style="margin-left: 20px; margin-top: 10px;">
                        <li>Titta p√• <strong>v√§nster sidmeny</strong> i Firebase Console</li>
                        <li>Klicka p√• <strong>"Build"</strong></li>
                        <li>Klicka p√• <strong>"Realtime Database"</strong></li>
                        <li>Klicka p√• den stora knappen <strong>"Create Database"</strong></li>
                        <li><strong>V√§lj region:</strong>
                            <ul style="margin-top: 5px;">
                                <li>V√§lj <strong>"europe-west1"</strong></li>
                                <li>Klicka <strong>"Next"</strong></li>
                            </ul>
                        </li>
                        <li><strong>V√§lj s√§kerhetsl√§ge:</strong>
                            <ul style="margin-top: 5px;">
                                <li>V√§lj <strong>"Start in test mode"</strong></li>
                                <li>Klicka <strong>"Enable"</strong></li>
                            </ul>
                        </li>
                        <li>‚è±Ô∏è <strong>V√§nta 10-30 sekunder...</strong> Realtime Database aktiveras nu!</li>
                    </ol>
                    
                    <strong>‚úÖ Realtime Database √§r redo n√§r du ser:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>En JSON-tr√§dstruktur med "null" som root</li>
                        <li>Flikar: "Data" | "Rules" | "Backups" | "Usage"</li>
                    </ul>
                    
                    <div class="highlight" style="margin-top: 20px;">
                        <strong>üìå BONUS-TIP:</strong> Du kan aktivera B√ÖDA databaserna i samma projekt!<br>
                        Firebase st√∂djer b√•de Firestore och Realtime Database samtidigt. Perfekt om du vill testa b√•da m√∂nstren och se vilket du f√∂redrar!
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">6</span>
                    <strong>S√§kerhetsregler (VIKTIGT! - Olika syntax f√∂r varje databas)</strong><br><br>
                    
                    <strong>üÖ∞Ô∏è F√∂r M√∂nster A (Firestore):</strong><br>
                    Under "Rules"-fliken i Firestore, anv√§nd denna syntax:

<pre>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.auth != null;  // Endast inloggade
    }
  }
}</pre>

                    <strong>üÖ±Ô∏è F√∂r M√∂nster B (Realtime Database):</strong><br>
                    Under "Rules"-fliken i Realtime Database, anv√§nd denna syntax:

<pre>{
  "rules": {
    ".read": "auth != null",   // Endast inloggade anv√§ndare kan l√§sa
    ".write": "auth != null"   // Endast inloggade anv√§ndare kan skriva
  }
}</pre>

                    <div class="warning">
                        <strong>‚ö†Ô∏è F√∂r utveckling (os√§kert, anv√§nd bara lokalt):</strong><br><br>
                        
                        <strong>Firestore (test mode):</strong>
<pre>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;  // √ñPPET F√ñR ALLA
    }
  }
}</pre>

                        <strong>Realtime Database (test mode):</strong>
<pre>{
  "rules": {
    ".read": true,   // √ñPPET F√ñR ALLA
    ".write": true   // √ñPPET F√ñR ALLA
  }
}</pre>
                        <strong>‚ö†Ô∏è Byt till s√§kra regler innan publicering!</strong>
                    </div>
                </div>

                <div class="step">
                    <span class="step-number">7</span>
                    <strong>Testa anslutningen (SAMMA f√∂r b√•da)</strong><br>
                    √ñppna din HTML-fil i webbl√§saren och kontrollera Console (F12 ‚Üí Console-fliken).<br><br>
                    
                    <strong>üÖ∞Ô∏è M√∂nster A ska visa:</strong><br>
                    <code>Firebase initierad! Projekt: ditt-projekt-namn</code><br><br>
                    
                    <strong>üÖ±Ô∏è M√∂nster B ska visa:</strong><br>
                    <code>FIREBASE √ÑR REDO F√ñR ANV√ÑNDNING</code>
                    
                    <div class="info" style="margin-top: 15px;">
                        <strong>üí° Om du ser fel:</strong>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Kontrollera att <code>firebaseConfig</code> √§r korrekt kopierad</li>
                            <li>Verifiera att r√§tt databas √§r aktiverad (Firestore eller Realtime)</li>
                            <li>Kontrollera att s√§kerhetsreglerna √§r satta till "test mode"</li>
                            <li>Kolla Network-fliken (F12) f√∂r eventuella n√§tverksfel</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- ============================================
                 PRODUCTION MODE - DETALJERAD GUIDE
                 ============================================ -->
            <h2>üîí Production Mode - Detaljerad guide f√∂r s√§kra regler</h2>
            
            <div class="section">
                <p>Om du valde <strong>production mode</strong> n√§r du skapade databasen, √§r allt blockerat fr√•n b√∂rjan:</p>

<pre>allow read, write: if false;  // ALLT BLOCKERAT</pre>

                <p>Du beh√∂ver nu <strong>uppdatera s√§kerhetsreglerna</strong> f√∂r att kunna anv√§nda databasen. H√§r √§r dina alternativ:</p>

                <h3>üìã Steg-f√∂r-steg: Uppdatera s√§kerhetsregler</h3>
                
                <div class="step">
                    <span class="step-number">1</span>
                    <strong>G√• till Rules-fliken</strong><br>
                    I Firestore Database ‚Üí Klicka p√• <strong>"Rules"</strong> (andra fliken)
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <strong>V√§lj s√§kerhetsniv√•</strong><br>
                    V√§lj ETT av alternativen nedan baserat p√• dina behov:
                </div>

                <h3>üîì Alternativ 1: √ñppet f√∂r alla (utveckling/test)</h3>
                <div class="warning">
                    <strong>‚ö†Ô∏è ENDAST F√ñR UTVECKLING OCH TESTNING!</strong><br><br>
                    Anv√§nd detta n√§r du utvecklar och testar lokalt. Byt till s√§krare regler innan publicering!
                </div>

<pre>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      // TILLF√ÑLLIGT f√∂r utveckling
      // OBS: √Ñndra innan publicering!
      allow read, write: if true;
    }
  }
}</pre>

                <div class="pros">
                    <strong>‚úÖ F√∂rdelar:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Enklast att testa - ingen autentisering kr√§vs</li>
                        <li>Fungerar direkt</li>
                        <li>Perfekt f√∂r lokal utveckling</li>
                    </ul>
                </div>
                <div class="cons">
                    <strong>‚ùå Nackdelar:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Os√§kert - vem som helst kan l√§sa/skriva</li>
                        <li>M√ÖSTE √§ndras innan publicering p√• internet</li>
                    </ul>
                </div>

                <h3>üëÅÔ∏è Alternativ 2: Alla kan l√§sa, ingen kan skriva (publicerad app)</h3>
                <div class="info">
                    Bra f√∂r appar d√§r data √§r publik men endast du (via Firebase Console) ska kunna l√§gga till data.
                </div>

<pre>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /dagensDubbel/{document=**} {
      allow read: if true;        // Alla kan l√§sa
      allow write: if false;      // Ingen kan skriva
    }
  }
}</pre>

                <div class="pros">
                    <strong>‚úÖ Anv√§ndningsfall:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Visa resultat publikt p√• hemsidan</li>
                        <li>Du registrerar data via Firebase Console manuellt</li>
                        <li>Skyddar mot spam och manipulation</li>
                    </ul>
                </div>

                <h3>üîê Alternativ 3: Endast autentiserade anv√§ndare</h3>
                <div class="info">
                    Kr√§ver att du l√§gger till Firebase Authentication, men ger b√§sta s√§kerheten.
                </div>

<pre>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /dagensDubbel/{document=**} {
      // Endast inloggade anv√§ndare kan l√§sa och skriva
      allow read, write: if request.auth != null;
    }
  }
}</pre>

                <div class="pros">
                    <strong>‚úÖ Anv√§ndningsfall:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Endast de 5 spelarna ska kunna registrera satsningar</li>
                        <li>Kr√§ver att alla loggar in (Google, Email, etc.)</li>
                        <li>S√§krast alternativet</li>
                    </ul>
                </div>

                <h3>üë• Alternativ 4: Specifika email-adresser (mest kontroll)</h3>
                <div class="info">
                    Endast specifika anv√§ndare f√•r tillg√•ng. B√§st f√∂r slutna grupper.
                </div>

<pre>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /dagensDubbel/{document=**} {
      // Endast dessa 5 email-adresser
      allow read, write: if request.auth != null && 
        request.auth.token.email in [
          'kent@example.com',
          'lotta@example.com',
          'bengt@example.com',
          'benita@example.com',
          'system@example.com'
        ];
    }
  }
}</pre>

                <div class="pros">
                    <strong>‚úÖ Anv√§ndningsfall:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Endast de 5 spelarna + ingen annan</li>
                        <li>Maximal kontroll</li>
                        <li>Perfekt f√∂r Dagens Dubbel!</li>
                    </ul>
                </div>

                <h3>üìä Alternativ 5: L√§s √∂ppet, skriv endast f√∂r autentiserade</h3>
                <div class="info">
                    B√§sta balansen - alla kan se resultat, endast spelarna kan registrera.
                </div>

<pre>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /dagensDubbel/{document=**} {
      allow read: if true;                    // Alla kan l√§sa resultat
      allow write: if request.auth != null;   // Endast inloggade kan skriva
    }
  }
}</pre>

                <div class="pros">
                    <strong>‚úÖ Anv√§ndningsfall:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Resultat visas publikt f√∂r alla</li>
                        <li>Endast de 5 spelarna (inloggade) kan registrera satsningar</li>
                        <li>Bra balans mellan √∂ppenhet och s√§kerhet</li>
                    </ul>
                </div>

                <h3>üéØ Rekommendation f√∂r Dagens Dubbel</h3>
                
                <table>
                    <thead>
                        <tr>
                            <th>Fas</th>
                            <th>Rekommenderad regel</th>
                            <th>Varf√∂r?</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Utveckling (nu)</strong></td>
                            <td>Alternativ 1: <code>if true</code></td>
                            <td>Snabb testning, ingen autentisering</td>
                        </tr>
                        <tr>
                            <td><strong>Publicering (enkel)</strong></td>
                            <td>Alternativ 1: <code>if true</code></td>
                            <td>Om du litar p√• att ingen hittar URL:en</td>
                        </tr>
                        <tr>
                            <td><strong>Publicering (s√§ker)</strong></td>
                            <td>Alternativ 5: L√§s √∂ppet, skriv auth</td>
                            <td>B√§sta balansen f√∂r Dagens Dubbel</td>
                        </tr>
                        <tr>
                            <td><strong>Maximalt s√§kert</strong></td>
                            <td>Alternativ 4: Specifika emails</td>
                            <td>Endast de 5 spelarna har tillg√•ng</td>
                        </tr>
                    </tbody>
                </table>

                <div class="highlight">
                    <strong>üí° Kent's approach f√∂r Dagens Dubbel:</strong><br><br>
                    <strong>Fas 1 - Utveckling (nu):</strong><br>
                    <code>allow read, write: if true;</code><br>
                    <em>Snabb testning, fungerar direkt</em><br><br>
                    
                    <strong>Fas 2 - Publicering (senare):</strong><br>
                    <code>allow read: if true; allow write: if request.auth != null;</code><br>
                    <em>Alla kan se resultat, endast inloggade kan registrera satsningar</em>
                </div>

                <h3>üìù Hur du √§ndrar regler senare:</h3>
                
                <ol style="margin-left: 20px; margin-top: 10px;">
                    <li>G√• till Firebase Console</li>
                    <li>Firestore Database ‚Üí <strong>Rules</strong></li>
                    <li>Ers√§tt hela regelkoden</li>
                    <li>Klicka <strong>"Publish"</strong></li>
                    <li>‚úÖ Nya regler aktiveras direkt!</li>
                </ol>
            </div>

            <!-- ============================================
                 SAMMANFATTNING: VAD √ÑR SAMMA/OLIKA
                 ============================================ -->
            <h2>üìã Sammanfattning: Vad √§r samma och vad √§r olika?</h2>
            
            <div class="section">
                <table>
                    <thead>
                        <tr>
                            <th>Setup-steg</th>
                            <th>M√∂nster A (Compat + Firestore)</th>
                            <th>M√∂nster B (Modular + Realtime DB)</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>1. Firebase Console</strong></td>
                            <td>console.firebase.google.com</td>
                            <td>console.firebase.google.com</td>
                            <td class="pros">‚úÖ SAMMA</td>
                        </tr>
                        <tr>
                            <td><strong>2. Skapa projekt</strong></td>
                            <td>"Add project" ‚Üí v√§lj namn</td>
                            <td>"Add project" ‚Üí v√§lj namn</td>
                            <td class="pros">‚úÖ SAMMA</td>
                        </tr>
                        <tr>
                            <td><strong>3. L√§gg till webbapp</strong></td>
                            <td>Klicka p√• Web (&lt;/&gt;-ikonen)</td>
                            <td>Klicka p√• Web (&lt;/&gt;-ikonen)</td>
                            <td class="pros">‚úÖ SAMMA</td>
                        </tr>
                        <tr>
                            <td><strong>4. Firebase Config</strong></td>
                            <td>Kopiera firebaseConfig-objektet</td>
                            <td>Kopiera firebaseConfig-objektet</td>
                            <td class="pros">‚úÖ SAMMA</td>
                        </tr>
                        <tr>
                            <td><strong>5a. Aktivera databas</strong></td>
                            <td>Build ‚Üí <strong>Firestore Database</strong></td>
                            <td>Build ‚Üí <strong>Realtime Database</strong></td>
                            <td class="cons">‚ùå OLIKA</td>
                        </tr>
                        <tr style="background: #fff3cd;">
                            <td><strong>5b. S√§kerhetsl√§ge (VIKTIGT!)</strong></td>
                            <td colspan="2" style="text-align: center;">
                                <strong>‚ö†Ô∏è V√§lj "Start in test mode"</strong><br>
                                <em style="font-size: 0.9em;">(Firebase f√∂rv√§ljer "production mode" men det √§r FEL f√∂r utveckling!)</em>
                            </td>
                            <td style="color: #e74c3c; font-weight: bold;">‚ö†Ô∏è OBSERVERA!</td>
                        </tr>
                        <tr>
                            <td><strong>6. S√§kerhetsregler</strong></td>
                            <td>Firestore rules syntax</td>
                            <td>JSON rules syntax</td>
                            <td style="color: #f39c12; font-weight: bold;">‚ö†Ô∏è OLIKA SYNTAX</td>
                        </tr>
                        <tr>
                            <td><strong>7. Testa anslutning</strong></td>
                            <td>√ñppna i webbl√§sare, kolla Console</td>
                            <td>√ñppna i webbl√§sare, kolla Console</td>
                            <td class="pros">‚úÖ SAMMA</td>
                        </tr>
                    </tbody>
                </table>

                <div class="highlight">
                    <strong>üéØ Slutsats:</strong><br>
                    <strong>90% av setup-processen √§r identisk!</strong> Den enda verkliga skillnaden √§r vilket databas-alternativ du v√§ljer i steg 5 (Firestore eller Realtime Database). S√§kerhetsreglerna (steg 6) √§r samma koncept men med olika syntax.
                </div>

                <div class="info">
                    <strong>üí° Bonus-tips:</strong> Du kan aktivera B√ÖDA databaserna i samma Firebase-projekt! Detta √§r perfekt om du vill:
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Testa b√•da m√∂nstren f√∂r att se vilket du f√∂redrar</li>
                        <li>Anv√§nda Firestore f√∂r komplex data och Realtime DB f√∂r realtidsuppdateringar</li>
                        <li>Migrera gradvis fr√•n ett m√∂nster till ett annat</li>
                    </ul>
                    B√•da databaserna delar samma <code>firebaseConfig</code> och kan anv√§ndas samtidigt i samma projekt!
                </div>
            </div>

            <!-- ============================================
                 ALTERNATIVA BACKEND-DATABASER
                 ============================================ -->
            <h2>üîç Alternativa gratis backend-databaser f√∂r "glada amat√∂rer"</h2>
            
            <div class="section">
                <p>Firebase √§r bra, men h√§r √§r n√•gra alternativ som ocks√• √§r gratis och l√§tta att anv√§nda:</p>

                <table>
                    <thead>
                        <tr>
                            <th>Databas</th>
                            <th>Typ</th>
                            <th>Gratis Tier</th>
                            <th class="pros">F√∂rdelar</th>
                            <th class="cons">Nackdelar</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Firebase Realtime Database</strong><br><a href="https://firebase.google.com/" target="_blank">firebase.google.com</a></td>
                            <td>NoSQL (JSON)</td>
                            <td>1GB data<br>10GB/m√•nad nedladdning</td>
                            <td class="pros">
                                ‚úÖ Realtidssynk<br>
                                ‚úÖ Google-integration<br>
                                ‚úÖ Offline-st√∂d<br>
                                ‚úÖ Kent's favorit
                            </td>
                            <td class="cons">
                                ‚ùå Komplex query-syntax<br>
                                ‚ùå Begr√§nsad till JSON-struktur
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Supabase</strong><br><a href="https://supabase.com/" target="_blank">supabase.com</a></td>
                            <td>PostgreSQL (SQL)</td>
                            <td>500MB databas<br>1GB fillagring<br>50,000 monthly active users</td>
                            <td class="pros">
                                ‚úÖ Open source<br>
                                ‚úÖ Kraftfull SQL<br>
                                ‚úÖ Autentisering inbyggd<br>
                                ‚úÖ RESTful API
                            </td>
                            <td class="cons">
                                ‚ùå Lite mer komplex setup<br>
                                ‚ùå Kr√§ver SQL-kunskap
                            </td>
                        </tr>
                        <tr>
                            <td><strong>PocketBase</strong><br><a href="https://pocketbase.io/" target="_blank">pocketbase.io</a></td>
                            <td>SQLite</td>
                            <td>Gratis (self-hosted)</td>
                            <td class="pros">
                                ‚úÖ Enklast att komma ig√•ng<br>
                                ‚úÖ En enda fil (< 10MB)<br>
                                ‚úÖ Admin UI inbyggd<br>
                                ‚úÖ Perfekt f√∂r sm√• projekt
                            </td>
                            <td class="cons">
                                ‚ùå Self-hosted (egen server kr√§vs)<br>
                                ‚ùå Inte lika skalbar
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Appwrite</strong><br><a href="https://appwrite.io/" target="_blank">appwrite.io</a></td>
                            <td>MariaDB</td>
                            <td>Gratis (self-hosted)<br>Cloud: $15/m√•nad</td>
                            <td class="pros">
                                ‚úÖ Self-hosted alternativ<br>
                                ‚úÖ All-in-one (DB, Auth, Storage)<br>
                                ‚úÖ Docker-baserad
                            </td>
                            <td class="cons">
                                ‚ùå Kr√§ver Docker-kunskap<br>
                                ‚ùå Cloud-version √§r betalversion
                            </td>
                        </tr>
                        <tr>
                            <td><strong>MongoDB Atlas</strong><br><a href="https://www.mongodb.com/atlas" target="_blank">mongodb.com/atlas</a></td>
                            <td>NoSQL (Dokument)</td>
                            <td>512MB lagring</td>
                            <td class="pros">
                                ‚úÖ Popul√§r NoSQL<br>
                                ‚úÖ Flexibel schema<br>
                                ‚úÖ Kraftfulla queries
                            </td>
                            <td class="cons">
                                ‚ùå Sv√•rare att l√§ra sig<br>
                                ‚ùå Begr√§nsad gratis tier
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Cloudflare D1</strong><br><a href="https://www.cloudflare.com/developer-platform/d1/" target="_blank">cloudflare.com/d1</a></td>
                            <td>SQLite (Edge)</td>
                            <td>10 GB data<br>5 miljoner reads/dag</td>
                            <td class="pros">
                                ‚úÖ Blixsnabbt (edge network)<br>
                                ‚úÖ Gener√∂st gratis tier<br>
                                ‚úÖ SQL-st√∂d
                            </td>
                            <td class="cons">
                                ‚ùå Kr√§ver Cloudflare Workers<br>
                                ‚ùå Mer avancerad setup
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="highlight">
                    <strong>üéØ Kent's rekommendation:</strong><br>
                    <strong>Firebase Realtime Database</strong> √§r perfekt f√∂r dig om:
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Du vill ha realtidssynkronisering mellan anv√§ndare</li>
                        <li>Du inte vill hantera egen server</li>
                        <li>Du √§r nyb√∂rjare och vill komma ig√•ng snabbt</li>
                        <li>Du har < 1000 anv√§ndare</li>
                    </ul>
                    <br>
                    <strong>Alternativt Supabase</strong> om du vill l√§ra dig SQL och ha mer kontroll.
                </div>
            </div>

            <!-- ============================================
                 J√ÑMF√ñRELSE: LOCALSTORAGE VS FIREBASE
                 ============================================ -->
            <h2>‚öñÔ∏è LocalStorage vs Firebase Realtime Database</h2>
            
            <div class="section">
                <table>
                    <thead>
                        <tr>
                            <th>Aspekt</th>
                            <th>LocalStorage</th>
                            <th>Firebase Realtime Database</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Lagring</strong></td>
                            <td>Lokalt i webbl√§saren (5-10 MB)</td>
                            <td>Molnet (1 GB gratis)</td>
                        </tr>
                        <tr>
                            <td><strong>Synkronisering</strong></td>
                            <td>‚ùå Endast p√• en enhet</td>
                            <td>‚úÖ Alla enheter + anv√§ndare</td>
                        </tr>
                        <tr>
                            <td><strong>Realtidsuppdateringar</strong></td>
                            <td>‚ùå Nej</td>
                            <td>‚úÖ Ja, automatisk</td>
                        </tr>
                        <tr>
                            <td><strong>Backup</strong></td>
                            <td>‚ùå Anv√§ndaren m√•ste exportera manuellt</td>
                            <td>‚úÖ Automatisk i molnet</td>
                        </tr>
                        <tr>
                            <td><strong>Multi-anv√§ndare</strong></td>
                            <td>‚ùå Om√∂jlig</td>
                            <td>‚úÖ Inbyggt st√∂d</td>
                        </tr>
                        <tr>
                            <td><strong>Offline-st√∂d</strong></td>
                            <td>‚úÖ Fungerar offline</td>
                            <td>‚úÖ Fungerar offline + synkar senare</td>
                        </tr>
                        <tr>
                            <td><strong>Setup</strong></td>
                            <td>‚úÖ Ingen setup kr√§vs</td>
                            <td>‚ö†Ô∏è Firebase-projekt kr√§vs</td>
                        </tr>
                        <tr>
                            <td><strong>Kostnad</strong></td>
                            <td>‚úÖ Helt gratis</td>
                            <td>‚úÖ Gratis upp till 1 GB</td>
                        </tr>
                        <tr>
                            <td><strong>S√§kerhet</strong></td>
                            <td>‚ö†Ô∏è Lokal, ingen autentisering</td>
                            <td>‚úÖ Autentisering + s√§kerhetsregler</td>
                        </tr>
                        <tr>
                            <td><strong>Komplexitet</strong></td>
                            <td>‚úÖ Mycket enkel</td>
                            <td>‚ö†Ô∏è N√•got mer komplex</td>
                        </tr>
                    </tbody>
                </table>

                <div class="info">
                    <strong>üí° N√§r ska du anv√§nda vad?</strong><br><br>
                    <strong>Anv√§nd LocalStorage n√§r:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Du endast har en anv√§ndare</li>
                        <li>Data ska vara privat f√∂r varje enhet</li>
                        <li>Projektet √§r ett enkelt personligt verktyg</li>
                        <li>Du vill minimera komplexitet</li>
                    </ul>
                    <br>
                    <strong>Anv√§nd Firebase n√§r:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Du vill dela data mellan flera anv√§ndare</li>
                        <li>Du vill synka data mellan enheter</li>
                        <li>Du beh√∂ver realtidsuppdateringar</li>
                        <li>Du vill ha backup i molnet</li>
                    </ul>
                </div>
            </div>

            <!-- ============================================
                 MIGRATION FR√ÖN LOCALSTORAGE TILL FIREBASE
                 ============================================ -->
            <h2>üîÑ Migration: LocalStorage ‚Üí Firebase</h2>
            
            <div class="section">
                <p>Om du vill migrera Dagens Dubbel fr√•n localStorage till Firebase:</p>

<pre>// ============================================
// MIGRERA BEFINTLIG DATA FR√ÖN LOCALSTORAGE TILL FIREBASE
// ============================================
function migrateToFirebase() {
    if (!window.firebaseReady) {
        alert('Firebase √§r inte redo √§nnu.');
        return;
    }
    
    // 1. H√ÑMTA DATA FR√ÖN LOCALSTORAGE
    const localData = localStorage.getItem('ddWeeklyData');
    if (!localData) {
        alert('Ingen data i localStorage att migrera.');
        return;
    }
    
    const weeks = JSON.parse(localData);
    console.log(`Migrerar ${weeks.length} veckor till Firebase...`);
    
    // 2. SPARA VARJE VECKA TILL FIREBASE
    const db = window.firebaseDb;
    const promises = weeks.map(week => {
        const weekRef = window.firebaseRef(db, `dagensDubbel/veckor`);
        return window.firebasePush(weekRef, week);
    });
    
    // 3. V√ÑNTA P√Ö ATT ALLA SPARAS
    Promise.all(promises)
        .then(() => {
            console.log('‚úÖ Migration klar!');
            alert(`‚úÖ ${weeks.length} veckor migrerade till Firebase!`);
            
            // 4. (VALFRITT) RENSA LOCALSTORAGE
            // localStorage.removeItem('ddWeeklyData');
        })
        .catch((error) => {
            console.error('‚ùå Migration misslyckades:', error);
            alert('‚ùå Migration misslyckades: ' + error.message);
        });
}

// K√ñR MIGRATION (EN G√ÖNG)
// migrateToFirebase();</pre>
            </div>

            <!-- ============================================
                 FELS√ñKNING
                 ============================================ -->
            <h2>üêõ Fels√∂kning</h2>
            
            <div class="section">
                <h3>Problem: "Firebase √§r inte redo √§nnu"</h3>
                <p><strong>L√∂sning:</strong> Kontrollera att Firebase-scriptet laddas innan ditt huvudscript. Anv√§nd <code>window.addEventListener('firebaseReady', ...)</code> f√∂r att v√§nta.</p>

                <h3>Problem: CORS-fel eller "Blocked by CSP"</h3>
                <p><strong>L√∂sning:</strong> Kontrollera att du har r√§tt CSP-meta-tag (se Steg 1). Verifiera att alla Firebase-dom√§ner √§r inkluderade.</p>

                <h3>Problem: "Permission denied" vid l√§sning/skrivning</h3>
                <p><strong>L√∂sning:</strong> Kontrollera s√§kerhetsreglerna i Firebase Console. F√∂r test, anv√§nd:</p>
<pre>{
  "rules": {
    ".read": true,
    ".write": true
  }
}</pre>
                <p><strong>OBS!</strong> Byt till s√§krare regler innan publicering.</p>

                <h3>Problem: Data sparas inte korrekt</h3>
                <p><strong>L√∂sning:</strong></p>
                <ul style="margin-left: 20px;">
                    <li>Kontrollera console.log() f√∂r fel</li>
                    <li>Verifiera att <code>window.firebaseReady === true</code></li>
                    <li>Kolla att data-strukturen √§r giltig JSON</li>
                    <li>Testa sparande i Firebase Console direkt</li>
                </ul>

                <h3>Problem: "Quota exceeded" (gratis tier √∂verskiden)</h3>
                <p><strong>L√∂sning:</strong> Du har √∂verskridit 1 GB data eller 10 GB nedladdning/m√•nad. Uppgradera till Blaze-plan eller optimera data.</p>
            </div>

            <!-- ============================================
                 L√ÑNKAR OCH RESURSER
                 ============================================ -->
            <h2>üîó Anv√§ndbara l√§nkar</h2>
            
            <div class="section">
                <ul style="margin-left: 20px; line-height: 2;">
                    <li><a href="https://firebase.google.com/docs/database" target="_blank">Firebase Realtime Database Documentation</a></li>
                    <li><a href="https://firebase.google.com/docs/database/web/start" target="_blank">Get Started with Firebase (Web)</a></li>
                    <li><a href="https://firebase.google.com/docs/database/security" target="_blank">Security Rules Guide</a></li>
                    <li><a href="https://console.firebase.google.com/" target="_blank">Firebase Console</a></li>
                    <li><a href="https://supabase.com/" target="_blank">Supabase (Alternativ)</a></li>
                    <li><a href="https://pocketbase.io/" target="_blank">PocketBase (Alternativ)</a></li>
                </ul>
            </div>

        </div>

        <footer>
            <h3>üîó Projektnavigation</h3>
            <div style="margin-top: 15px;">
                <a href="README.md" style="color: white; margin: 0 10px;">üìñ README</a>
                <a href="index.html" style="color: white; margin: 0 10px;">üè† Huvudapplikation</a>
                <a href=".claude/agents/BackEnd.md" style="color: white; margin: 0 10px;">‚öôÔ∏è Backend Agent</a>
                <a href=".claude/agents/FrontEnd.md" style="color: white; margin: 0 10px;">üé® Frontend Agent</a>
            </div>
            <p style="margin-top: 20px; opacity: 0.8;">
                Skapad med <strong>Claude Code</strong> permanenta agenter<br>
                ¬© 2026 - Dagens Dubbel Analyssystem
            </p>
        </footer>
    </div>
</body>
</html>
