<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matematik 3 - Trigonometriska Ekvationer | Matematik Gymnasiet</title>

    <!-- MathJax for mathematical notation -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['$$', '$$']],
                processEscapes: true
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" async></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem 1rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2.5rem 2rem;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        header h1 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
        }

        header .level {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        header .nav-links {
            margin-top: 1rem;
        }

        header .nav-links a {
            color: white;
            background: rgba(255,255,255,0.2);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            text-decoration: none;
            margin: 0 0.5rem;
            display: inline-block;
            transition: background 0.3s;
        }

        header .nav-links a:hover {
            background: rgba(255,255,255,0.3);
        }

        .content-card {
            background: white;
            padding: 2.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .content-card h2 {
            color: #667eea;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 0.5rem;
        }

        .content-card h3 {
            color: #764ba2;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .content-card ul, .content-card ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        .content-card li {
            margin-bottom: 0.5rem;
        }

        .problem-statement {
            background: linear-gradient(135deg, #e8f0fe 0%, #f0e8fe 100%);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 5px solid #667eea;
            margin: 1.5rem 0;
            font-size: 1.1rem;
        }

        .quiz-question {
            margin: 2rem 0;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 5px solid #4ECDC4;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .option-btn {
            background: white;
            border: 2px solid #667eea;
            padding: 1rem;
            border-radius: 8px;
            font-size: 1rem;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option-btn:hover:not(:disabled) {
            background: #667eea;
            color: white;
            transform: translateX(5px);
        }

        .option-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .feedback {
            margin-top: 1rem;
            padding: 1.5rem;
            border-radius: 8px;
            animation: fadeIn 0.5s;
        }

        .feedback.hidden {
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            border-left: 5px solid #28a745;
            color: #155724;
        }

        .feedback.incorrect {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            color: #856404;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .methods-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .method-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            border-top: 4px solid #6c757d;
        }

        .method-card.best {
            border-top-color: #28a745;
            background: linear-gradient(135deg, #d4edda 0%, #e8f5e9 100%);
        }

        .method-card.second-best {
            border-top-color: #17a2b8;
            background: linear-gradient(135deg, #d1ecf1 0%, #e1f5fe 100%);
        }

        .method-card h3 {
            color: #495057;
            margin-top: 0;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .method-card.best h3 {
            color: #28a745;
        }

        .method-card.second-best h3 {
            color: #17a2b8;
        }

        .method-benefit {
            color: #28a745;
            font-weight: 500;
            margin-top: 0.5rem;
        }

        .method-drawback {
            color: #dc3545;
            font-weight: 500;
            margin-top: 0.5rem;
        }

        .tips-box {
            background: linear-gradient(135deg, #fff8e1 0%, #ffe0b2 100%);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 5px solid #ff9800;
            margin: 1rem 0;
        }

        .tips-box h4 {
            color: #e65100;
            margin-bottom: 0.5rem;
        }

        .error-box {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 5px solid #f44336;
            margin: 1rem 0;
        }

        .error-box h4 {
            color: #c62828;
            margin-bottom: 0.5rem;
        }

        .toggle-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin: 1rem 0;
        }

        .toggle-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .hidden-content {
            display: none;
        }

        canvas {
            border: 2px solid #667eea;
            border-radius: 8px;
            margin: 1rem 0;
            max-width: 100%;
            background: white;
        }

        .step {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            border-left: 5px solid #667eea;
        }

        .step h4 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        footer {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2.5rem 2rem;
            border-radius: 10px;
            margin-top: 3rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        footer h3 {
            margin-bottom: 1rem;
            color: #4ECDC4;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        footer a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        footer a:hover {
            opacity: 0.8;
            text-decoration: underline;
        }

        footer p {
            margin: 0.3rem 0;
        }

        .footer-bottom {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255,255,255,0.2);
            opacity: 0.8;
        }

        .current-page {
            font-weight: bold;
            background: rgba(78, 205, 196, 0.3) !important;
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem 0.5rem;
            }

            header h1 {
                font-size: 1.8rem;
            }

            .content-card {
                padding: 1.5rem;
            }

            header .nav-links a {
                display: block;
                margin: 0.5rem 0;
            }

            .methods-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üî¢ Matematik 3 - Trigonometriska Ekvationer</h1>
            <p class="level">Niv√•: Matematik 3 (Gymnasiet)</p>
            <div class="nav-links">
                <a href="fem_matteuppgifter.html">‚Üê Tillbaka till √∂versikten</a>
                <a href="https://github.com/kentlundgren/AI/tree/main/Matematik" target="_blank">üíª GitHub</a>
            </div>
        </header>

        <!-- L√ÑRANDEM√ÖL -->
        <div class="content-card">
            <h2>üéØ L√§randem√•l</h2>
            <p>Efter denna √∂vning ska du kunna:</p>
            <ul>
                <li>F√∂rst√• trigonometriska samband i r√§tvinkliga trianglar</li>
                <li>Anv√§nda tangensfunktionen f√∂r att l√∂sa vinkelproblem</li>
                <li>F√∂rst√• att trigonometriska funktioner √§r periodiska</li>
                <li>Hitta alla l√∂sningar till en trigonometrisk ekvation inom ett givet intervall</li>
                <li>Tolka trigonometriska l√∂sningar i verkliga situationer</li>
            </ul>

            <h3>F√∂rkunskaper</h3>
            <p>Du b√∂r k√§nna till:</p>
            <ul>
                <li>R√§tvinkliga trianglar och Pythagoras sats</li>
                <li>Grundl√§ggande trigonometri: sin, cos, tan</li>
                <li>Sambandet: tan(Œ∏) = motst√•ende katet / n√§rliggande katet</li>
                <li>Arctan-funktionen (tan‚Åª¬π) f√∂r att hitta vinklar</li>
                <li>Periodiciteten hos trigonometriska funktioner</li>
            </ul>
        </div>

        <!-- QUIZ SEKTION -->
        <div class="content-card">
            <h2>üí° F√∂rberedande Quiz</h2>
            <p>Innan vi b√∂rjar med huvuduppgiften, l√•t oss aktivera dina f√∂rkunskaper!</p>

            <!-- QUIZ FR√ÖGA 1 -->
            <div class="quiz-question">
                <h3>Fr√•ga 1: Vad betyder tan(Œ∏) i en r√§tvinklig triangel?</h3>
                <p>I en r√§tvinklig triangel med vinkel Œ∏, vad uttrycker tan(Œ∏)?</p>

                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(1, 'A')">
                        A) Motst√•ende katet delat med hypotenusan
                    </button>
                    <button class="option-btn" onclick="checkAnswer(1, 'B')">
                        B) Motst√•ende katet delat med n√§rliggande katet
                    </button>
                    <button class="option-btn" onclick="checkAnswer(1, 'C')">
                        C) N√§rliggande katet delat med hypotenusan
                    </button>
                    <button class="option-btn" onclick="checkAnswer(1, 'D')">
                        D) Hypotenusan delat med motst√•ende katet
                    </button>
                </div>

                <div id="feedback1" class="feedback hidden"></div>
            </div>

            <!-- QUIZ FR√ÖGA 2 -->
            <div class="quiz-question">
                <h3>Fr√•ga 2: Varf√∂r har tan(Œ∏) = k flera l√∂sningar?</h3>
                <p>N√§r vi l√∂ser ekvationen tan(Œ∏) = k, varf√∂r f√•r vi ofta flera vinklar som l√∂sning?</p>

                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(2, 'A')">
                        A) Det beror p√• r√§knefel i kalkylatorn
                    </button>
                    <button class="option-btn" onclick="checkAnswer(2, 'B')">
                        B) Tangentfunktionen √§r periodisk och √•terkommer var 180¬∞
                    </button>
                    <button class="option-btn" onclick="checkAnswer(2, 'C')">
                        C) Vi m√•ste prova alla vinklar mellan 0¬∞ och 360¬∞
                    </button>
                    <button class="option-btn" onclick="checkAnswer(2, 'D')">
                        D) Det finns bara en l√∂sning till varje trigonometrisk ekvation
                    </button>
                </div>

                <div id="feedback2" class="feedback hidden"></div>
            </div>
        </div>

        <!-- HUVUDPROBLEM -->
        <div class="content-card">
            <h2>üìù Huvuduppgift: N√§r √§r skuggan lika l√•ng?</h2>

            <div class="problem-statement">
                <strong>Problem:</strong><br>
                Ett torn √§r 25 meter h√∂gt. Vid vilka solvinklar √§r skuggl√§ngden exakt 40 meter?
                <br><br>
                <strong>Kontext:</strong> Solen st√•r i olika positioner under dagen. N√§r den √§r l√•gt p√• himlen (t.ex. tidigt p√• morgonen eller sent p√• eftermiddagen) blir skuggan l√•ng. N√§r solen st√•r h√∂gre minskar skuggl√§ngden. Vid vilken vinkel √∂ver horisonten ger solen en skugga p√• exakt 40 meter?
                <br><br>
                <em>Praktisk anv√§ndning:</em> Detta problem √§r relevant inom arkitektur (solstudier), astronomi (solbaneber√§kningar), och geografi (skuggkartor).
            </div>
        </div>

        <!-- FYRA L√ñSNINGSMETODER -->
        <section class="content-card">
            <h2>üîç Fyra Olika L√∂sningsmetoder</h2>
            <p>Det finns flera s√§tt att angripa detta problem. Vi visar fyra metoder och bed√∂mer deras f√∂r- och nackdelar:</p>

            <div class="methods-grid">
                <div class="method-card best">
                    <h3>‚≠ê Metod A: Trigonometrisk Ekvation (B√ÑST)</h3>
                    <p><strong>Strategi:</strong> S√§tt upp tan(Œ∏) = 25/40, l√∂s f√∂r Œ∏ med arctan</p>
                    <p class="method-benefit"><strong>F√∂rdelar:</strong> Exakt, systematisk, ger alla l√∂sningar</p>
                </div>

                <div class="method-card second-best">
                    <h3>‚≠ê Metod B: Enhetscirkeln (N√ÑST B√ÑST)</h3>
                    <p><strong>Strategi:</strong> Rita enhetscirkeln, identifiera periodiska l√∂sningar</p>
                    <p class="method-benefit"><strong>F√∂rdelar:</strong> Visuell f√∂rst√•else av periodicitet</p>
                </div>

                <div class="method-card">
                    <h3>Metod C: Grafisk L√∂sning</h3>
                    <p><strong>Strategi:</strong> Rita y = tan(Œ∏) och y = 0.625</p>
                    <p class="method-drawback"><strong>Nackdelar:</strong> Kr√§ver grafverktyg</p>
                </div>

                <div class="method-card">
                    <h3>Metod D: M√§tning med Gradskiva</h3>
                    <p><strong>Strategi:</strong> Rita triangel, m√§t vinkel</p>
                    <p class="method-drawback"><strong>Nackdelar:</strong> Mycket os√§kert</p>
                </div>
            </div>
        </section>

        <!-- TIPS SEKTION -->
        <div class="content-card">
            <h2>üí° Tips f√∂r att Komma Ig√•ng</h2>
            <button class="toggle-btn" onclick="toggleTips()">Visa/D√∂lj Tips</button>

            <div id="tips-content" class="hidden-content">
                <div class="tips-box">
                    <h4>üí° Tip 1: Identifiera triangelns delar</h4>
                    <p>I en r√§tvinklig triangel √§r tan(Œ∏) = motst√•ende / n√§rliggande</p>
                    <ul>
                        <li>Tornet (vertikal): Motst√•ende = 25 m</li>
                        <li>Skuggan (horisontell): N√§rliggande = 40 m</li>
                        <li>Solstr√•len: Hypotenusan</li>
                    </ul>
                </div>

                <div class="tips-box">
                    <h4>üí° Tip 2: Anv√§nd arctan</h4>
                    <p>F√∂r grundvinkeln: Œ∏ = arctan(25/40) = arctan(0.625) ‚âà 32.0¬∞</p>
                </div>

                <div class="tips-box">
                    <h4>üí° Tip 3: Kom ih√•g periodiciteten</h4>
                    <p>Tan √•terkommer var 180¬∞, men f√∂r solvinklar √§r bara 0-90¬∞ rimliga!</p>
                </div>
            </div>
        </div>

        <!-- VANLIGA FEL -->
        <div class="content-card">
            <h2>‚ö†Ô∏è Vanliga Fel att Undvika</h2>

            <div class="error-box">
                <h4>‚ùå Fel 1: Gl√∂mmer periodiciteten</h4>
                <p><strong>R√§tt:</strong> tan(Œ∏) = tan(Œ∏ + 180¬∞). √Ñven om 212¬∞ inte √§r fysiskt m√∂jlig f√∂r solvinkel, √§r det viktigt att k√§nna till periodiciteten!</p>
            </div>

            <div class="error-box">
                <h4>‚ùå Fel 2: Byter om kateter</h4>
                <p><strong>R√§tt:</strong> tan(Œ∏) = 25/40, inte 40/25</p>
            </div>

            <div class="error-box">
                <h4>‚ùå Fel 3: Gl√∂mmer fysisk rimlighet</h4>
                <p><strong>R√§tt:</strong> Solvinklar m√•ste vara 0-90¬∞ (solen √∂ver horisonten)</p>
            </div>
        </div>

        <!-- GRAFISK PRESENTATION -->
        <div class="content-card">
            <h2>üìà Grafisk Presentation</h2>
            <button class="toggle-btn" onclick="toggleGraph()">Visa/D√∂lj Graf</button>

            <div id="graph-content" class="hidden-content">
                <p>Geometrisk situation: Torn, skugga och solstr√•le</p>
                <canvas id="graph-canvas" width="700" height="500"></canvas>
                <p style="margin-top: 1rem; color: #666;">
                    <strong>Observera:</strong> Tornet (25 m), skuggan (40 m), solvinkel Œ∏ ‚âà 32.0¬∞
                </p>
            </div>
        </div>

        <!-- STEG-F√ñR-STEG L√ñSNING -->
        <div class="content-card">
            <h2>üìê Steg-f√∂r-Steg L√∂sning</h2>
            <button class="toggle-btn" onclick="toggleSolution()">Visa/D√∂lj L√∂sning</button>

            <div id="solution-content" class="hidden-content">

                <div class="step">
                    <h4>üìñ Steg 1: F√∂rst√•</h4>
                    <p><strong>Givet:</strong> Torn 25 m, skugga 40 m</p>
                    <p><strong>S√∂kt:</strong> Solvinkel Œ∏</p>
                    <p><strong>Begr√§nsning:</strong> 0¬∞ < Œ∏ < 90¬∞</p>
                </div>

                <div class="step">
                    <h4>üéØ Steg 2: Planera</h4>
                    <ol>
                        <li>Anv√§nd tan(Œ∏) = 25/40</li>
                        <li>Ber√§kna Œ∏ = arctan(0.625)</li>
                        <li>Kontrollera periodicitet</li>
                    </ol>
                </div>

                <div class="step">
                    <h4>‚öôÔ∏è Steg 3: Metod A (Trigonometrisk)</h4>
                    $$\tan(\theta) = \frac{25}{40} = 0.625$$
                    $$\theta_1 = \arctan(0.625) \approx 32.0¬∞$$
                    $$\theta_2 = 32.0¬∞ + 180¬∞ = 212.0¬∞ \text{ (ej fysiskt rimlig)}$$
                </div>

                <div class="step">
                    <h4>üìä Steg 4: Metod B (Enhetscirkeln)</h4>
                    <p>I enhetscirkeln √§r tan positiv i kvadrant I och III.</p>
                    <p>F√∂r solvinklar: endast 0-90¬∞ √§r rimligt ‚Üí Œ∏ = 32.0¬∞</p>
                </div>

                <div class="step">
                    <h4>‚úÖ Steg 5: Slutsats</h4>
                    <div style="background: #e8f5e9; padding: 1.5rem; border-radius: 8px; border-left: 5px solid #28a745;">
                        <p style="font-size: 1.2rem;"><strong>Svar: Œ∏ ‚âà 32.0¬∞</strong></p>
                        <p>Solen st√•r 32¬∞ √∂ver horisonten</p>
                    </div>
                </div>

            </div>
        </div>

        <!-- F√ñRDJUPNING -->
        <div class="content-card">
            <h2>üöÄ F√∂rdjupning</h2>
            <p><strong>Utmaning 1:</strong> Om tornet √§r 30 m och skuggan 40 m, hur f√∂r√§ndras vinkeln?</p>
            <p><strong>Utmaning 2:</strong> Vilken skuggl√§ngd ger Œ∏ = 45¬∞?</p>
        </div>

        <!-- FOOTER -->
        <footer>
            <h3>üîó Projektnavigation</h3>

            <div class="footer-grid">
                <div>
                    <h4 style="color: #4ECDC4; margin-bottom: 0.5rem;">üìÑ Dokumentation</h4>
                    <p><a href="README.md">üìñ README</a></p>
                    <p><a href="index.html">üè† Startsida</a></p>
                    <p><a href="fem_matteuppgifter.html">üìä √ñversikt</a></p>
                </div>

                <div>
                    <h4 style="color: #4ECDC4; margin-bottom: 0.5rem;">üìö Matematikkurser</h4>
                    <p><a href="matte1.html">üìê Matte 1</a></p>
                    <p><a href="matte2.html">üìä Matte 2</a></p>
                    <p><a href="matte3.html" class="current-page">üî¢ Matte 3 (Du √§r h√§r)</a></p>
                    <p><a href="matte4.html">üìê Matte 4</a></p>
                    <p><a href="matte5.html">üéØ Matte 5</a></p>
                </div>

                <div>
                    <h4 style="color: #4ECDC4; margin-bottom: 0.5rem;">ü§ñ Agenter</h4>
                    <p><a href="https://github.com/kentlundgren/AI/blob/main/Matematik/.claude/agents/math-tutor.md" target="_blank">üéì Math Tutor</a></p>
                    <p><a href="https://github.com/kentlundgren/AI/blob/main/Matematik/.claude/agents/problem-solver.md" target="_blank">üîß Problem Solver</a></p>
                    <p><a href="https://github.com/kentlundgren/AI/blob/main/Matematik/.claude/agents/exercise-creator.md" target="_blank">üìù Exercise Creator</a></p>
                </div>

                <div>
                    <h4 style="color: #4ECDC4; margin-bottom: 0.5rem;">üåê Externa L√§nkar</h4>
                    <p><a href="https://github.com/kentlundgren/AI/tree/main/Matematik" target="_blank">üíª GitHub</a></p>
                    <p><a href="https://kentlundgren.github.io/AI/Matematik/" target="_blank">üåç Live Demo</a></p>
                </div>
            </div>

            <div class="footer-bottom">
                <p>Skapad med <strong>Claude Code</strong> permanenta agenter</p>
                <p>¬© 2026 - Interaktiva matematik√∂vningar f√∂r gymnasiet</p>
            </div>
        </footer>
    </div>

    <script>
        const quizData = {
            1: {
                correct: 'B',
                feedback: {
                    'A': {
                        correct: false,
                        text: '<h4>‚ùå Fel</h4><p>Du har blandat ihop tan med sin! Sin(Œ∏) = motst√•ende/hypotenusa.</p><p><strong>R√§tt:</strong> tan(Œ∏) = motst√•ende/n√§rliggande = 25/40</p>'
                    },
                    'B': {
                        correct: true,
                        text: '<h4>‚úÖ R√ÑTT!</h4><p>Exakt! tan(Œ∏) = motst√•ende/n√§rliggande.</p><p>I v√•rt problem: tan(Œ∏) = 25/40 = 0.625</p>'
                    },
                    'C': {
                        correct: false,
                        text: '<h4>‚ùå Fel</h4><p>Du har blandat ihop tan med cos! Cos(Œ∏) = n√§rliggande/hypotenusa.</p>'
                    },
                    'D': {
                        correct: false,
                        text: '<h4>‚ùå Fel</h4><p>Detta √§r inverterat och felaktigt.</p><p><strong>R√§tt:</strong> tan(Œ∏) = motst√•ende/n√§rliggande</p>'
                    }
                }
            },
            2: {
                correct: 'B',
                feedback: {
                    'A': {
                        correct: false,
                        text: '<h4>‚ùå Fel</h4><p>Nej! Flera l√∂sningar √§r matematiskt korrekt.</p><p><strong>R√§tt:</strong> tan har period 180¬∞</p>'
                    },
                    'B': {
                        correct: true,
                        text: '<h4>‚úÖ R√ÑTT!</h4><p>Exakt! Tan √•terkommer var 180¬∞.</p><p>Œ∏‚ÇÅ = 32¬∞ och Œ∏‚ÇÇ = 212¬∞ b√•da ger tan = 0.625</p>'
                    },
                    'C': {
                        correct: false,
                        text: '<h4>‚ùå Fel</h4><p>Ineffektivt! Anv√§nd periodiciteten ist√§llet.</p>'
                    },
                    'D': {
                        correct: false,
                        text: '<h4>‚ùå Fel</h4><p>Helt fel! Trigonometriska funktioner √§r periodiska.</p>'
                    }
                }
            }
        };

        function checkAnswer(questionNum, selectedAnswer) {
            const feedbackElement = document.getElementById('feedback' + questionNum);
            const quizContainer = feedbackElement.closest('.quiz-question');
            const buttons = quizContainer.querySelectorAll('.option-btn');

            buttons.forEach(btn => btn.disabled = true);

            const data = quizData[questionNum];
            const isCorrect = selectedAnswer === data.correct;

            feedbackElement.className = isCorrect ? 'feedback correct' : 'feedback incorrect';
            feedbackElement.innerHTML = data.feedback[selectedAnswer].text;

            if (typeof MathJax !== 'undefined') {
                MathJax.typesetPromise([feedbackElement]).catch((err) => console.log(err));
            }
        }

        function toggleSolution() {
            const solution = document.getElementById('solution-content');
            solution.classList.toggle('hidden-content');
            if (!solution.classList.contains('hidden-content') && typeof MathJax !== 'undefined') {
                MathJax.typesetPromise([solution]).catch((err) => console.log(err));
            }
        }

        function toggleTips() {
            const tips = document.getElementById('tips-content');
            tips.classList.toggle('hidden-content');
        }

        function toggleGraph() {
            const graph = document.getElementById('graph-content');
            graph.classList.toggle('hidden-content');
            if (!graph.classList.contains('hidden-content')) {
                drawShadowGraph();
            }
        }

        function drawShadowGraph() {
            const canvas = document.getElementById('graph-canvas');
            const ctx = canvas.getContext('2d');

            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const padding = 50;
            const scale = 4;
            const towerHeight = 25;
            const shadowLength = 40;
            const towerBase = {x: padding + 50, y: canvas.height - padding};
            const towerTop = {x: towerBase.x, y: towerBase.y - towerHeight * scale};
            const shadowEnd = {x: towerBase.x + shadowLength * scale, y: towerBase.y};

            // Ground
            ctx.strokeStyle = '#8B4513';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(padding, towerBase.y);
            ctx.lineTo(canvas.width - padding, towerBase.y);
            ctx.stroke();

            // Tower
            ctx.fillStyle = '#666';
            ctx.fillRect(towerBase.x - 7.5, towerTop.y, 15, towerHeight * scale);
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.strokeRect(towerBase.x - 7.5, towerTop.y, 15, towerHeight * scale);

            // Shadow
            ctx.fillStyle = 'rgba(0,0,0,0.2)';
            ctx.fillRect(towerBase.x, shadowEnd.y - 15, shadowLength * scale, 15);

            // Sun ray
            ctx.strokeStyle = '#FFA500';
            ctx.lineWidth = 3;
            ctx.setLineDash([8, 4]);
            ctx.beginPath();
            ctx.moveTo(shadowEnd.x, shadowEnd.y);
            ctx.lineTo(towerTop.x, towerTop.y);
            ctx.stroke();
            ctx.setLineDash([]);

            // Angle
            const angle = Math.atan(towerHeight / shadowLength);
            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(towerBase.x, towerBase.y, 50, -angle, 0);
            ctx.stroke();

            // Labels
            ctx.fillStyle = '#667eea';
            ctx.font = 'bold 18px Arial';
            ctx.fillText('Œ∏ ‚âà 32.0¬∞', towerBase.x + 60, towerBase.y - 20);

            ctx.fillStyle = '#000';
            ctx.font = '16px Arial';
            ctx.save();
            ctx.translate(towerBase.x - 35, towerBase.y - towerHeight * scale / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('25 m', 0, 0);
            ctx.restore();

            ctx.fillText('40 m', towerBase.x + shadowLength * scale / 2 - 20, towerBase.y + 30);

            ctx.fillStyle = '#FFA500';
            ctx.font = 'bold 20px Arial';
            ctx.fillText('‚òÄ Sol', shadowEnd.x - 30, towerTop.y - 20);
        }
    </script>
</body>
</html>
