<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matematik 2 - Derivata och Optimering | Matematik Gymnasiet</title>

    <!-- MathJax for mathematical notation -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['$$', '$$']],
                processEscapes: true
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" async></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem 1rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2.5rem 2rem;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        header h1 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
        }

        header .level {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        header .nav-links {
            margin-top: 1rem;
        }

        header .nav-links a {
            color: white;
            background: rgba(255,255,255,0.2);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            text-decoration: none;
            margin: 0 0.5rem;
            display: inline-block;
            transition: background 0.3s;
        }

        header .nav-links a:hover {
            background: rgba(255,255,255,0.3);
        }

        .content-card {
            background: white;
            padding: 2.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .content-card h2 {
            color: #667eea;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 0.5rem;
        }

        .content-card h3 {
            color: #764ba2;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .content-card ul, .content-card ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        .content-card li {
            margin-bottom: 0.5rem;
        }

        .problem-statement {
            background: linear-gradient(135deg, #e8f0fe 0%, #f0e8fe 100%);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 5px solid #667eea;
            margin: 1.5rem 0;
            font-size: 1.1rem;
        }

        .quiz-question {
            margin: 2rem 0;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 5px solid #4ECDC4;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .option-btn {
            background: white;
            border: 2px solid #667eea;
            padding: 1rem;
            border-radius: 8px;
            font-size: 1rem;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option-btn:hover:not(:disabled) {
            background: #667eea;
            color: white;
            transform: translateX(5px);
        }

        .option-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .feedback {
            margin-top: 1rem;
            padding: 1.5rem;
            border-radius: 8px;
            animation: fadeIn 0.5s;
        }

        .feedback.hidden {
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            border-left: 5px solid #28a745;
            color: #155724;
        }

        .feedback.incorrect {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            color: #856404;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .methods-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .method-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            border-top: 4px solid #6c757d;
        }

        .method-card.best {
            border-top-color: #28a745;
            background: linear-gradient(135deg, #d4edda 0%, #e8f5e9 100%);
        }

        .method-card.second-best {
            border-top-color: #17a2b8;
            background: linear-gradient(135deg, #d1ecf1 0%, #e1f5fe 100%);
        }

        .method-card h3 {
            color: #495057;
            margin-top: 0;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .method-card.best h3 {
            color: #28a745;
        }

        .method-card.second-best h3 {
            color: #17a2b8;
        }

        .method-benefit {
            color: #28a745;
            font-weight: 500;
            margin-top: 0.5rem;
        }

        .method-drawback {
            color: #dc3545;
            font-weight: 500;
            margin-top: 0.5rem;
        }

        .tips-box {
            background: linear-gradient(135deg, #fff8e1 0%, #ffe0b2 100%);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 5px solid #ff9800;
            margin: 1rem 0;
        }

        .tips-box h4 {
            color: #e65100;
            margin-bottom: 0.5rem;
        }

        .error-box {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 5px solid #f44336;
            margin: 1rem 0;
        }

        .error-box h4 {
            color: #c62828;
            margin-bottom: 0.5rem;
        }

        .toggle-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin: 1rem 0;
        }

        .toggle-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .hidden-content {
            display: none;
        }

        canvas {
            border: 2px solid #667eea;
            border-radius: 8px;
            margin: 1rem 0;
            max-width: 100%;
            background: white;
        }

        .step {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            border-left: 5px solid #667eea;
        }

        .step h4 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        footer {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2.5rem 2rem;
            border-radius: 10px;
            margin-top: 3rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        footer h3 {
            margin-bottom: 1rem;
            color: #4ECDC4;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        footer a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        footer a:hover {
            opacity: 0.8;
            text-decoration: underline;
        }

        footer p {
            margin: 0.3rem 0;
        }

        .footer-bottom {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255,255,255,0.2);
            opacity: 0.8;
        }

        .current-page {
            font-weight: bold;
            background: rgba(78, 205, 196, 0.3) !important;
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem 0.5rem;
            }

            header h1 {
                font-size: 1.8rem;
            }

            .content-card {
                padding: 1.5rem;
            }

            header .nav-links a {
                display: block;
                margin: 0.5rem 0;
            }

            .methods-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìä Matematik 2 - Derivata och Optimering</h1>
            <p class="level">Niv√•: Matematik 2 (Gymnasiet)</p>
            <div class="nav-links">
                <a href="fem_matteuppgifter.html">‚Üê Tillbaka till √∂versikten</a>
                <a href="https://github.com/kentlundgren/AI/tree/main/Matematik" target="_blank">üíª GitHub</a>
            </div>
        </header>

        <!-- L√ÑRANDEM√ÖL -->
        <div class="content-card">
            <h2>üéØ L√§randem√•l</h2>
            <p>Efter denna √∂vning ska du kunna:</p>
            <ul>
                <li>F√∂rst√• vad en derivata representerar (f√∂r√§ndringshastighet)</li>
                <li>S√§tta upp en volymfunktion baserat p√• geometriska f√∂ruts√§ttningar</li>
                <li>Anv√§nda derivata f√∂r att hitta extrempunkter (maximum och minimum)</li>
                <li>Kontrollera att en kritisk punkt √§r ett maximum med andraderivatatestet</li>
                <li>Tolka resultatet i en praktisk kontext</li>
            </ul>

            <h3>F√∂rkunskaper</h3>
            <p>Du b√∂r k√§nna till:</p>
            <ul>
                <li>Grundl√§ggande algebra och ekvationsl√∂sning</li>
                <li>Volymen f√∂r en l√•da: V = l√§ngd √ó bredd √ó h√∂jd</li>
                <li>Vad en funktion √§r och hur man plottar grafer</li>
                <li>Grundl√§ggande deriveringsregler (potensregeln)</li>
            </ul>
        </div>

        <!-- QUIZ SEKTION -->
        <div class="content-card">
            <h2>üí° F√∂rberedande Quiz</h2>
            <p>Innan vi b√∂rjar med huvuduppgiften, l√•t oss aktivera dina f√∂rkunskaper!</p>

            <!-- QUIZ FR√ÖGA 1 -->
            <div class="quiz-question">
                <h3>Fr√•ga 1: Vad betyder det att derivatan √§r noll vid en punkt?</h3>
                <p>N√§r vi har en funktion f(x) och f'(a) = 0, vad betyder det?</p>

                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(1, 'A')">
                        A) Funktionen √§r noll vid x = a
                    </button>
                    <button class="option-btn" onclick="checkAnswer(1, 'B')">
                        B) Funktionen har en toppunkt eller bottenpunkt vid x = a
                    </button>
                    <button class="option-btn" onclick="checkAnswer(1, 'C')">
                        C) Funktionen √§r konstant √∂verallt
                    </button>
                    <button class="option-btn" onclick="checkAnswer(1, 'D')">
                        D) Funktionen √§r odefinierad vid x = a
                    </button>
                </div>

                <div id="feedback1" class="feedback hidden"></div>
            </div>

            <!-- QUIZ FR√ÖGA 2 -->
            <div class="quiz-question">
                <h3>Fr√•ga 2: Hur kontrollerar vi att en kritisk punkt √§r ett maximum?</h3>
                <p>Vi har hittat att f'(a) = 0. Hur vet vi om x = a ger ett maximum?</p>

                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(2, 'A')">
                        A) Kontrollera att f'(a) = 0
                    </button>
                    <button class="option-btn" onclick="checkAnswer(2, 'B')">
                        B) Kontrollera att f''(a) < 0 (andraderivatatestet)
                    </button>
                    <button class="option-btn" onclick="checkAnswer(2, 'C')">
                        C) Kontrollera att f''(a) > 0
                    </button>
                    <button class="option-btn" onclick="checkAnswer(2, 'D')">
                        D) Plotta funktionen och titta
                    </button>
                </div>

                <div id="feedback2" class="feedback hidden"></div>
            </div>
        </div>

        <!-- HUVUDPROBLEM -->
        <div class="content-card">
            <h2>üìù Huvuduppgift: √ñppen L√•da - Maximal Volym</h2>

            <div class="problem-statement">
                <strong>Problem:</strong><br>
                Du har en kvadratisk pl√•t som √§r 30 cm √ó 30 cm. Du ska vika upp en √∂ppen l√•da genom att:
                <ol>
                    <li>Klippa bort lika stora kvadrater fr√•n alla fyra h√∂rnen</li>
                    <li>Vika upp kanterna f√∂r att bilda en l√•da</li>
                </ol>
                <strong>Fr√•ga:</strong> Hur stora ska kvadraterna vara (sidl√§ngd x cm) f√∂r att l√•dan ska f√• maximal volym?
                <br><br>
                <em>Praktisk kontext:</em> Detta √§r en verklig designutmaning inom f√∂rpackningsindustrin - hur maximerar man volymen med given material?
            </div>
        </div>

        <!-- FYRA L√ñSNINGSMETODER -->
        <section class="content-card">
            <h2>üîç Fyra Olika L√∂sningsmetoder</h2>
            <p>Det finns flera s√§tt att angripa detta problem. Vi visar fyra metoder och bed√∂mer deras f√∂r- och nackdelar:</p>

            <div class="methods-grid">
                <div class="method-card best">
                    <h3>‚≠ê Metod A: Derivata (B√ÑST)</h3>
                    <p><strong>Strategi:</strong> S√§tt upp V(x) = x(30-2x)¬≤, ber√§kna V'(x), l√∂s V'(x) = 0</p>
                    <p class="method-benefit"><strong>F√∂rdelar:</strong> Ger exakt svar, systematisk, fungerar alltid</p>
                </div>

                <div class="method-card second-best">
                    <h3>‚≠ê Metod B: Funktionsanalys med Graf (N√ÑST B√ÑST)</h3>
                    <p><strong>Strategi:</strong> Rita V(x) och hitta toppunkten visuellt</p>
                    <p class="method-benefit"><strong>F√∂rdelar:</strong> Visuell f√∂rst√•else, l√§tt att verifiera</p>
                    <p class="method-drawback"><strong>Nackdelar:</strong> Kan ge ungef√§rligt svar</p>
                </div>

                <div class="method-card">
                    <h3>Metod C: Tabelltestning</h3>
                    <p><strong>Strategi:</strong> Testa olika x-v√§rden och j√§mf√∂r V(x)</p>
                    <p class="method-drawback"><strong>Nackdelar:</strong> Tidskr√§vande, ungef√§rligt</p>
                </div>

                <div class="method-card">
                    <h3>Metod D: Logisk Uppskattning</h3>
                    <p><strong>Strategi:</strong> Gissa ett rimligt v√§rde</p>
                    <p class="method-drawback"><strong>Nackdelar:</strong> Osystematisk, ingen garanti</p>
                </div>
            </div>
        </section>

        <!-- TIPS SEKTION -->
        <div class="content-card">
            <h2>üí° Tips f√∂r att Komma Ig√•ng</h2>
            <button class="toggle-btn" onclick="toggleTips()">Visa/D√∂lj Tips</button>

            <div id="tips-content" class="hidden-content">
                <div class="tips-box">
                    <h4>üí° Tip 1: Volymformeln</h4>
                    <p>Volymen f√∂r en l√•da √§r <strong>l√§ngd √ó bredd √ó h√∂jd</strong>. Om vi klipper bort x cm i varje h√∂rn och viker upp, blir <strong>h√∂jden = x cm</strong>.</p>
                </div>

                <div class="tips-box">
                    <h4>üí° Tip 2: Bottenm√•tten</h4>
                    <p>Efter att ha klippt bort x cm fr√•n varje h√∂rn p√•verkas b√•de l√§ngd och bredd. Fr√•n en 30 cm sida f√∂rsvinner x cm fr√•n <strong>b√•da √§ndar</strong>, s√• bottenm√•tten blir <strong>(30 - 2x) √ó (30 - 2x)</strong> cm.</p>
                </div>

                <div class="tips-box">
                    <h4>üí° Tip 3: Hitta Maximum</h4>
                    <p>F√∂r att hitta maximumet av V(x):</p>
                    <ol>
                        <li>Ber√§kna derivatan V'(x)</li>
                        <li>S√§tt V'(x) = 0 och l√∂s</li>
                        <li>Kontrollera med V''(x) < 0 att det √§r maximum</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- VANLIGA FEL -->
        <div class="content-card">
            <h2>‚ö†Ô∏è Vanliga Fel att Undvika</h2>

            <div class="error-box">
                <h4>‚ùå Fel 1: Gl√∂mmer att b√•da sidorna p√•verkas</h4>
                <p><strong>Felet:</strong> Tror att bottenm√•tten blir (30 - x) √ó (30 - x)</p>
                <p><strong>R√§tt:</strong> Bottenm√•tten = (30 - 2x) √ó (30 - 2x)</p>
            </div>

            <div class="error-box">
                <h4>‚ùå Fel 2: S√§tter derivatan till x ist√§llet f√∂r noll</h4>
                <p><strong>R√§tt:</strong> S√§tt V'(x) = 0 och l√∂s f√∂r x</p>
            </div>

            <div class="error-box">
                <h4>‚ùå Fel 3: Kontrollerar inte att det √§r maximum</h4>
                <p><strong>R√§tt:</strong> Anv√§nd andraderivatatestet: V''(x) < 0</p>
            </div>
        </div>

        <!-- GRAFISK PRESENTATION -->
        <div class="content-card">
            <h2>üìà Grafisk Presentation</h2>
            <button class="toggle-btn" onclick="toggleGraph()">Visa/D√∂lj Graf</button>

            <div id="graph-content" class="hidden-content">
                <p>Grafen av V(x) = x(30 - 2x)¬≤ f√∂r 0 < x < 15:</p>
                <canvas id="graph-canvas" width="700" height="400"></canvas>
                <p style="margin-top: 1rem; color: #666;">
                    <strong>Observera:</strong> Grafen visar tydligt att det finns en toppunkt vid x = 5, d√§r volymen √§r 2000 cm¬≥.
                </p>
            </div>
        </div>

        <!-- STEG-F√ñR-STEG L√ñSNING -->
        <div class="content-card">
            <h2>üìê Steg-f√∂r-Steg L√∂sning</h2>
            <button class="toggle-btn" onclick="toggleSolution()">Visa/D√∂lj Fullst√§ndig L√∂sning</button>

            <div id="solution-content" class="hidden-content">

                <div class="step">
                    <h4>üìñ Steg 1: F√∂rst√• Problemet</h4>
                    <p><strong>Givet:</strong></p>
                    <ul>
                        <li>Kvadratisk pl√•t: 30 cm √ó 30 cm</li>
                        <li>Klipp bort lika stora kvadrater (sidl√§ngd x cm) fr√•n alla h√∂rn</li>
                        <li>Vik upp f√∂r att bilda √∂ppen l√•da</li>
                    </ul>
                    <p><strong>S√∂kt:</strong> V√§rdet p√• x som ger maximal volym</p>
                    <p><strong>Begr√§nsningar:</strong> 0 < x < 15</p>
                </div>

                <div class="step">
                    <h4>üéØ Steg 2: Planera L√∂sningen</h4>
                    <p><strong>Vi beh√∂ver:</strong></p>
                    <ol>
                        <li>S√§tta upp volymfunktion V(x)</li>
                        <li>Derivera: V'(x)</li>
                        <li>S√§tta V'(x) = 0 och l√∂sa f√∂r x</li>
                        <li>Kontrollera att det √§r maximum (andraderivatatestet)</li>
                        <li>Ber√§kna maximal volym</li>
                    </ol>
                </div>

                <div class="step">
                    <h4>‚öôÔ∏è Steg 3: Genomf√∂ra - Metod A (Derivata)</h4>

                    <p><strong>3.1. S√§tt upp volymfunktionen</strong></p>
                    <p>N√§r vi klipper bort x cm fr√•n varje h√∂rn:</p>
                    <ul>
                        <li><strong>H√∂jd:</strong> x cm</li>
                        <li><strong>L√§ngd:</strong> 30 - 2x cm</li>
                        <li><strong>Bredd:</strong> 30 - 2x cm</li>
                    </ul>
                    <p>Volymfunktionen:</p>
                    $$V(x) = x \cdot (30-2x) \cdot (30-2x) = x(30-2x)^2$$

                    <p style="margin-top: 1.5rem;"><strong>3.2. F√∂renkla</strong></p>
                    <p>Expandera \((30-2x)^2 = 900 - 120x + 4x^2\)</p>
                    $$V(x) = x(900 - 120x + 4x^2) = 900x - 120x^2 + 4x^3$$

                    <p style="margin-top: 1.5rem;"><strong>3.3. Ber√§kna derivatan</strong></p>
                    $$V'(x) = 900 - 240x + 12x^2$$

                    <p style="margin-top: 1.5rem;"><strong>3.4. S√§tt V'(x) = 0</strong></p>
                    $$900 - 240x + 12x^2 = 0$$
                    <p>F√∂renkla genom att dividera med 12:</p>
                    $$75 - 20x + x^2 = 0$$
                    $$x^2 - 20x + 75 = 0$$

                    <p>Kvadreringsformeln:</p>
                    $$x = \frac{20 \pm \sqrt{400 - 300}}{2} = \frac{20 \pm 10}{2}$$

                    <p>Detta ger:</p>
                    $$x_1 = 15 \quad \text{(ogiltig)} \quad x_2 = 5 \quad \text{(giltig)}$$

                    <p style="margin-top: 1.5rem;"><strong>3.5. Andraderivatatestet</strong></p>
                    $$V''(x) = -240 + 24x$$
                    $$V''(5) = -240 + 120 = -120 < 0$$
                    <p><strong>Eftersom V''(5) < 0 √§r x = 5 ett maximum!</strong> ‚úÖ</p>
                </div>

                <div class="step">
                    <h4>üìä Steg 4: Genomf√∂ra - Metod B (Grafisk)</h4>
                    <p>Alternativ metod f√∂r verifiering:</p>
                    <ol>
                        <li>Rita grafen av V(x) = x(30-2x)¬≤</li>
                        <li>Identifiera toppunkten ‚Üí x ‚âà 5</li>
                        <li>L√§s av volymen ‚Üí V(5) = 2000 cm¬≥</li>
                    </ol>
                </div>

                <div class="step">
                    <h4>‚úÖ Steg 5: Kontrollera och Slutsats</h4>
                    <p><strong>Ber√§kna maximal volym:</strong></p>
                    $$V(5) = 5 \cdot (30 - 10)^2 = 5 \cdot 400 = 2000 \text{ cm}^3$$

                    <div style="background: #e8f5e9; padding: 1.5rem; border-radius: 8px; border-left: 5px solid #28a745; margin: 1rem 0;">
                        <p style="font-size: 1.2rem;"><strong>Svar: x = 5 cm</strong></p>
                        <p><strong>Resulterande m√•tt:</strong></p>
                        <ul>
                            <li>H√∂jd: 5 cm</li>
                            <li>Bottenm√•tt: 20 √ó 20 cm</li>
                            <li>Maximal volym: 2000 cm¬≥ = 2 liter</li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>

        <!-- F√ñRDJUPNING -->
        <div class="content-card">
            <h2>üöÄ F√∂rdjupning (Frivillig)</h2>
            <p><strong>Utmaning 1:</strong> Vad h√§nder om pl√•ten √§r rektangul√§r, t.ex. 30 √ó 40 cm?</p>
            <p><strong>Utmaning 2:</strong> Finns det ett allm√§nt samband f√∂r en kvadratisk pl√•t med sidan L cm?</p>
        </div>

        <!-- FOOTER -->
        <!-- ============================================ -->
        <!-- UPPGIFT 2: LOGARITMER -->
        <!-- ============================================ -->

        <div class="content-card" style="border-top: 5px solid #ff9800;">
            <h2>üìä Uppgift 2: Logaritmer och F√∂renkling</h2>
            <p>
                Nu testar vi <strong>MathJax</strong> med logaritmuppgifter!
                Observera hur formlerna renderas professionellt.
            </p>

            <h3>L√§randem√•l</h3>
            <ul>
                <li>F√∂rst√• logaritmiska uttryck</li>
                <li>F√∂renkla uttryck med logaritmer</li>
                <li><strong>Skilja mellan lg(x¬≤) och (lg(x))¬≤</strong> - MYCKET VIKTIGT! ‚ö†Ô∏è</li>
                <li>Anv√§nda substitution f√∂r att l√∂sa logaritmekvationer</li>
                <li>Identifiera olika l√∂sningsmetoder</li>
            </ul>

            <h3>F√∂rkunskaper</h3>
            <ul>
                <li>Vad en logaritm √§r: \(\lg(x) = \log_{10}(x)\)</li>
                <li>Logaritmlagen: \(\lg(a) + \lg(b) = \lg(ab)\)</li>
                <li>Potenslagen: \(n\lg(a) = \lg(a^n)\) och \(\lg(a^n) = n\lg(a)\)</li>
                <li>Kvadratiska ekvationer</li>
            </ul>
        </div>

        <!-- VIKTIG DISTINKTION -->
        <div class="content-card" style="border-left: 5px solid #ff5722;">
            <h2>‚ö†Ô∏è VIKTIGT: lg(x¬≤) vs (lg(x))¬≤</h2>
            <p>
                Innan vi b√∂rjar m√•ste vi f√∂rst√• en <strong>kritisk skillnad</strong> i notation som ofta f√∂rvirrar elever!
            </p>

            <div class="step">
                <h4>üìñ lg(x¬≤) - Logaritmen AV x¬≤</h4>
                <p>
                    H√§r √§r <strong>x¬≤ inuti logaritmen</strong>. Vi tar logaritmen av ett tal som √§r upph√∂jt till 2.
                </p>
                <p style="text-align: center; font-size: 1.2rem; margin: 1rem 0;">
                    $$\lg(x^2) = \lg(\underbrace{x \cdot x}_{\text{x¬≤}})$$
                </p>
                <p>
                    <strong>Potenslagen s√§ger:</strong> \(\lg(x^2) = 2\lg(x)\)
                </p>
                <div class="calculation">Exempel:
lg(100¬≤) = lg(10000) = 4
Eller med potenslagen:
lg(100¬≤) = 2¬∑lg(100) = 2¬∑2 = 4 ‚úì</div>
                <p>
                    <strong>Analogi:</strong> "Priset p√• 5 √§pplen" = 5 √ó (priset p√• ett √§pple)
                </p>
            </div>

            <div class="step">
                <h4>üìñ (lg(x))¬≤ - Kvadraten AV logaritmen</h4>
                <p>
                    H√§r tar vi <strong>hela logaritmen och upph√∂jer den till 2</strong>. Vi ber√§knar logaritmen f√∂rst, sedan kvadrerar resultatet.
                </p>
                <p style="text-align: center; font-size: 1.2rem; margin: 1rem 0;">
                    $$(\lg(x))^2 = \lg(x) \cdot \lg(x)$$
                </p>
                <p>
                    <strong>INGEN logaritmlag kan f√∂renkla detta!</strong> Det √§r ett helt annat uttryck.
                </p>
                <div class="calculation">Exempel:
(lg(100))¬≤ = (2)¬≤ = 4

J√ÑMF√ñR med lg(100¬≤):
lg(100¬≤) = lg(10000) = 4

I detta fall samma resultat, men det √§r en slump!</div>
                <p>
                    <strong>Analogi:</strong> "Priset √ó Priset" ‚â† "Priset p√• (√§pple √ó √§pple)"
                </p>
            </div>

            <div style="background: #fff3cd; border: 2px solid #ffc107; padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;">
                <h4 style="color: #856404; margin-top: 0;">üéØ Sammanfattning av skillnaden</h4>
                <table style="width: 100%; border-collapse: collapse; margin-top: 1rem;">
                    <tr style="background: #ffc107; color: white;">
                        <th style="padding: 0.8rem; text-align: left;">Notation</th>
                        <th style="padding: 0.8rem; text-align: left;">Betydelse</th>
                        <th style="padding: 0.8rem; text-align: left;">F√∂renkling</th>
                    </tr>
                    <tr style="background: white;">
                        <td style="padding: 0.8rem; border: 1px solid #ddd;">\(\lg(x^2)\)</td>
                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Logaritmen av x¬≤</td>
                        <td style="padding: 0.8rem; border: 1px solid #ddd;">\(= 2\lg(x)\) (potenslagen)</td>
                    </tr>
                    <tr style="background: #f9f9f9;">
                        <td style="padding: 0.8rem; border: 1px solid #ddd;">\((\lg(x))^2\)</td>
                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Kvadraten av lg(x)</td>
                        <td style="padding: 0.8rem; border: 1px solid #ddd;">Kan EJ f√∂renklas med logaritm lagar</td>
                    </tr>
                </table>

                <p style="margin-top: 1rem; font-weight: bold; color: #856404;">
                    üìù Minnesregel: √Ñr exponenten INUTI eller UTANF√ñR logaritmen?
                </p>
            </div>
        </div>

        <!-- UPPGIFT 2A: ENKLARE VERSION -->
        <div class="content-card" style="border-left: 5px solid #4caf50;">
            <h2>üìù Uppgift 2A: F√∂renkling med lg(x¬≤)</h2>
            <p>
                L√•t oss b√∂rja med den <strong>enklare varianten</strong> d√§r potenslagen kan anv√§ndas direkt.
            </p>

            <div class="problem-statement">
                <strong>Problem:</strong> F√∂renkla uttrycket
                $$2\lg(x) - 0.5\lg(x^2)$$
            </div>

            <button class="toggle-btn" onclick="toggleSolution2a()">
                Visa/D√∂lj L√∂sning
            </button>

            <div id="solution-content-2a" class="solution-content hidden">
                <div class="step">
                    <h4>Steg 1: Identifiera strukturen</h4>
                    <p>
                        Vi har \(\lg(x^2)\) - exponenten 2 √§r <strong>INUTI</strong> logaritmen.
                        Detta betyder att vi kan anv√§nda <strong>potenslagen</strong>!
                    </p>
                    <p style="text-align: center; margin: 1rem 0;">
                        $$\lg(x^2) = 2\lg(x)$$
                    </p>
                </div>

                <div class="step">
                    <h4>Steg 2: Applicera potenslagen</h4>
                    <p>
                        Byt ut \(\lg(x^2)\) mot \(2\lg(x)\):
                    </p>
                    <div class="calculation">2lg(x) - 0.5lg(x¬≤)
= 2lg(x) - 0.5¬∑2lg(x)
= 2lg(x) - 1.0lg(x)
= 2lg(x) - lg(x)</div>
                </div>

                <div class="step">
                    <h4>Steg 3: F√∂renkla</h4>
                    <p>
                        Subtrahera termerna:
                    </p>
                    <div class="calculation">= 2lg(x) - lg(x)
= lg(x)</div>
                </div>

                <div class="conclusion">
                    <h4>‚úÖ Slutsats</h4>
                    <p class="answer">$$2\lg(x) - 0.5\lg(x^2) = \lg(x)$$</p>
                    <p style="margin-top: 1rem;">
                        Uttrycket f√∂renklas till bara <strong>lg(x)</strong>! Mycket enkelt n√§r vi anv√§nder potenslagen korrekt.
                    </p>
                </div>

                <div class="verification">
                    <h4>üîç Kontroll med konkret exempel</h4>
                    <p>L√•t oss testa med \(x = 100\):</p>
                    <div class="calculation">V√§nsterled:
2lg(100) - 0.5lg(100¬≤)
= 2¬∑2 - 0.5¬∑lg(10000)
= 4 - 0.5¬∑4
= 4 - 2
= 2

H√∂gerled:
lg(100) = 2

2 = 2 ‚úì Det st√§mmer!</div>
                </div>
            </div>
        </div>

        <!-- UPPGIFT 2B: SV√ÖRARE VERSION -->
        <div class="content-card" style="border-left: 5px solid #9c27b0;">
            <h2>üìù Uppgift 2B: F√∂renkling med (lg(x))¬≤</h2>
            <p>
                Nu testar vi den <strong>sv√•rare varianten</strong> d√§r exponenten √§r UTANF√ñR logaritmen.
                H√§r kan vi INTE anv√§nda potenslagen direkt - ist√§llet beh√∂ver vi <strong>substitution</strong>!
            </p>
        </div>

        <!-- QUIZ SEKTION LOGARITMER -->
        <div class="content-card">
            <h2>üí° F√∂rberedande Quiz - Uppgift 2B</h2>

            <!-- QUIZ FR√ÖGA 3 -->
            <div class="quiz-question">
                <h3>Fr√•ga 3: Vad betyder \(\lg(100)\)?</h3>
                <p>
                    Logaritmen \(\lg\) √§r <em>10-logaritmen</em> (tiologaritmen).
                    Vad √§r v√§rdet p√• \(\lg(100)\)?
                </p>

                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(3, 'A')">
                        A) 2
                    </button>
                    <button class="option-btn" onclick="checkAnswer(3, 'B')">
                        B) 10
                    </button>
                    <button class="option-btn" onclick="checkAnswer(3, 'C')">
                        C) 100
                    </button>
                    <button class="option-btn" onclick="checkAnswer(3, 'D')">
                        D) 1000
                    </button>
                </div>

                <div id="feedback3" class="feedback hidden"></div>
            </div>

            <!-- QUIZ FR√ÖGA 4 -->
            <div class="quiz-question">
                <h3>Fr√•ga 4: Vilken metod √§r b√§st f√∂r att f√∂renkla \(2\lg(x) - 0.5(\lg(x))^2\)?</h3>
                <p>
                    Om vi vill f√∂renkla uttrycket \(2\lg(x) - 0.5(\lg(x))^2\),
                    vilken strategi ska vi anv√§nda?
                </p>

                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(4, 'A')">
                        A) Substituera \(t = \lg(x)\) f√∂r att se strukturen tydligare
                    </button>
                    <button class="option-btn" onclick="checkAnswer(4, 'B')">
                        B) Direkt anv√§nda logaritmlagarna
                    </button>
                    <button class="option-btn" onclick="checkAnswer(4, 'C')">
                        C) Ta 10 upph√∂jt till b√•da sidor
                    </button>
                    <button class="option-btn" onclick="checkAnswer(4, 'D')">
                        D) Derivera uttrycket
                    </button>
                </div>

                <div id="feedback4" class="feedback hidden"></div>
            </div>
        </div>

        <!-- HUVUDPROBLEM LOGARITMER -->
        <div class="content-card">
            <h2>üìù Huvuduppgift - Logaritmer</h2>

            <div class="problem-statement">
                <strong>Problem:</strong> F√∂renkla uttrycket
                $$2\lg(x) - 0.5(\lg(x))^2$$

                <br><br>
                <strong>Bonusfr√•gor (om du vill g√• vidare):</strong>
                <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
                    <li>F√∂r vilka v√§rden p√• \(x\) √§r uttrycket = 0?</li>
                    <li>F√∂r vilket \(x\) n√•r uttrycket sitt maximum?</li>
                </ul>
            </div>
        </div>

        <!-- L√ñSNING LOGARITMER -->
        <div class="content-card">
            <h2>üîç Olika Angreppss√§tt</h2>
            <p>
                L√•t oss utforska <strong>flera s√§tt</strong> att arbeta med detta uttryck!
            </p>

            <button class="toggle-btn" onclick="toggleSolution2()">
                Visa/D√∂lj L√∂sningar
            </button>

            <div id="solution-content-2" class="solution-content hidden">

                <!-- METOD 1: F√ñRENKLING MED SUBSTITUTION -->
                <div class="step">
                    <h4>Metod 1: F√∂renkling med Substitution</h4>
                    <p>
                        <strong>Strategi:</strong> Byt ut \(\lg(x)\) mot en enklare variabel
                        f√∂r att se strukturen tydligare.
                    </p>

                    <p><strong>Steg 1:</strong> S√§tt \(t = \lg(x)\)</p>
                    <p>Nu blir uttrycket:</p>
                    $$2t - 0.5t^2$$

                    <p style="margin-top: 1rem;"><strong>Steg 2:</strong> Faktorisera</p>
                    $$2t - 0.5t^2 = t(2 - 0.5t)$$

                    <p style="margin-top: 1rem;"><strong>Steg 3:</strong> F√∂renkla genom att multiplicera med 2</p>
                    $$t(2 - 0.5t) = t \cdot \frac{1}{2}(4 - t) = \frac{t(4-t)}{2}$$

                    <p style="margin-top: 1rem;"><strong>Steg 4:</strong> Byt tillbaka \(t = \lg(x)\)</p>
                    $$\frac{\lg(x)(4 - \lg(x))}{2}$$

                    <div class="conclusion">
                        <h4>F√∂renklat Uttryck</h4>
                        <p class="answer">$$\frac{\lg(x)(4 - \lg(x))}{2}$$</p>
                        <p style="margin-top: 1rem;">
                            Eller ekvivalent: $$2\lg(x) - \frac{(\lg(x))^2}{2}$$
                        </p>
                    </div>
                </div>

                <!-- METOD 2: L√ñSA EKVATIONEN -->
                <div class="step">
                    <h4>Metod 2: L√∂s Ekvationen \(2\lg(x) - 0.5(\lg(x))^2 = 0\)</h4>
                    <p>
                        Om vi vill hitta f√∂r vilka \(x\) uttrycket blir noll:
                    </p>

                    <p><strong>Steg 1:</strong> S√§tt \(t = \lg(x)\)</p>
                    $$2t - 0.5t^2 = 0$$

                    <p style="margin-top: 1rem;"><strong>Steg 2:</strong> Faktorisera</p>
                    $$t(2 - 0.5t) = 0$$

                    <p style="margin-top: 1rem;"><strong>Steg 3:</strong> Nollproduktmetoden</p>
                    <p>Antingen \(t = 0\) eller \(2 - 0.5t = 0\)</p>
                    <div class="calculation">t = 0  eller  2 - 0.5t = 0
                        ‚áí t = 0  eller  0.5t = 2
                        ‚áí t = 0  eller  t = 4</div>

                    <p style="margin-top: 1rem;"><strong>Steg 4:</strong> Byt tillbaka till \(x\)</p>
                    <p>Eftersom \(t = \lg(x)\):</p>
                    $$\lg(x) = 0 \quad \Rightarrow \quad x = 10^0 = 1$$
                    $$\lg(x) = 4 \quad \Rightarrow \quad x = 10^4 = 10000$$

                    <div class="verification">
                        <strong>‚úÖ Kontroll:</strong><br>
                        F√∂r \(x = 1\): \(2\lg(1) - 0.5(\lg(1))^2 = 2 \cdot 0 - 0.5 \cdot 0^2 = 0\) ‚úì<br>
                        F√∂r \(x = 10000\): \(2\lg(10000) - 0.5(\lg(10000))^2 = 2 \cdot 4 - 0.5 \cdot 16 = 8 - 8 = 0\) ‚úì
                    </div>

                    <div class="conclusion">
                        <h4>Nollst√§llen</h4>
                        <p class="answer">\(x = 1\) och \(x = 10000\)</p>
                    </div>
                </div>

                <!-- METOD 3: EXTREMV√ÑRDE -->
                <div class="step">
                    <h4>Metod 3: Hitta Maximiv√§rdet (Derivata)</h4>
                    <p>
                        <strong>Fr√•ga:</strong> F√∂r vilket \(x\) n√•r uttrycket sitt maximum?
                    </p>

                    <p><strong>Steg 1:</strong> Med \(t = \lg(x)\) har vi \(f(t) = 2t - 0.5t^2\)</p>

                    <p style="margin-top: 1rem;"><strong>Steg 2:</strong> Derivera</p>
                    $$f'(t) = 2 - t$$

                    <p style="margin-top: 1rem;"><strong>Steg 3:</strong> S√§tt \(f'(t) = 0\)</p>
                    $$2 - t = 0 \quad \Rightarrow \quad t = 2$$

                    <p style="margin-top: 1rem;"><strong>Steg 4:</strong> Byt tillbaka till \(x\)</p>
                    $$\lg(x) = 2 \quad \Rightarrow \quad x = 10^2 = 100$$

                    <p style="margin-top: 1rem;"><strong>Steg 5:</strong> Ber√§kna maxv√§rdet</p>
                    $$f(2) = 2(2) - 0.5(2)^2 = 4 - 2 = 2$$

                    <div class="conclusion">
                        <h4>Maxv√§rde</h4>
                        <p class="answer">
                            Uttrycket n√•r sitt maximum \(2\) n√§r \(x = 100\)
                        </p>
                        <p style="margin-top: 1rem;">
                            Dvs: $$2\lg(100) - 0.5(\lg(100))^2 = 2$$
                        </p>
                    </div>
                </div>

                <!-- METOD 4: GRAFISK TOLKNING -->
                <div class="step">
                    <h4>Metod 4: Grafisk Tolkning</h4>
                    <p>
                        Uttrycket \(f(t) = 2t - 0.5t^2\) representerar en <strong>parabel</strong>
                        som √∂ppnar ned√•t (eftersom koefficienten framf√∂r \(t^2\) √§r negativ).
                    </p>

                    <p>
                        <strong>Viktig insikt:</strong>
                    </p>
                    $$f(t) = -0.5t^2 + 2t = -0.5(t^2 - 4t)$$
                    $$= -0.5(t^2 - 4t + 4 - 4) = -0.5((t-2)^2 - 4)$$
                    $$= -0.5(t-2)^2 + 2$$

                    <p style="margin-top: 1rem;">
                        Detta √§r en parabel i <strong>vertexform</strong>!
                    </p>

                    <ul>
                        <li><strong>Vertex (topp):</strong> \(t = 2\), vilket ger \(x = 100\)</li>
                        <li><strong>Maxv√§rde:</strong> \(f(2) = 2\)</li>
                        <li><strong>Nollst√§llen:</strong> \(t = 0\) och \(t = 4\) (dvs \(x = 1\) och \(x = 10000\))</li>
                        <li><strong>Symmetrilinje:</strong> \(t = 2\) (mitten mellan nollst√§llena)</li>
                    </ul>

                    <p style="margin-top: 1rem;">
                        <strong>Observation:</strong> Nollst√§llena \(t=0\) och \(t=4\) ligger
                        symmetriskt kring \(t=2\), vilket bekr√§ftar att \(t=2\) √§r maxpunkten!
                    </p>
                </div>

                <!-- SAMMANFATTNING -->
                <div class="conclusion">
                    <h4>üìö Sammanfattning - Alla Metoder</h4>
                    <p style="text-align: left; margin-top: 1rem;">
                        <strong>F√∂renklat uttryck:</strong>
                        $$\frac{\lg(x)(4 - \lg(x))}{2}$$
                    </p>
                    <p style="text-align: left;">
                        <strong>Nollst√§llen:</strong> \(x = 1\) och \(x = 10000\)
                    </p>
                    <p style="text-align: left;">
                        <strong>Maximum:</strong> \(x = 100\) (v√§rde = 2)
                    </p>
                    <p style="text-align: left; margin-top: 1rem;">
                        <strong>L√§rdomar:</strong>
                    </p>
                    <ul style="text-align: left;">
                        <li>Substitution g√∂r komplexa uttryck enklare att se</li>
                        <li>Ett uttryck kan analyseras p√• flera s√§tt</li>
                        <li>Algebra, derivata och grafisk tolkning ger olika insikter</li>
                        <li>Logaritmer kan behandlas som "vanliga" variabler med substitution</li>
                    </ul>
                </div>

                <!-- VISUALISERING -->
                <div class="step">
                    <h4>üìä Visualisering: Grafer av Funktionen</h4>
                    <p>
                        L√•t oss visualisera funktionen p√• tv√• s√§tt: b√•de med \(f(x) = 2\lg(x) - 0.5(\lg(x))^2\)
                        och den f√∂renklade parabeln \(g(t) = 2t - 0.5t^2\) d√§r \(t = \lg(x)\).
                    </p>

                    <!-- Graf 1: f(x) = 2lg(x) - 0.5(lg(x))¬≤ -->
                    <div style="background: white; padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;">
                        <h5 style="color: #667eea; text-align: center; margin-bottom: 1rem;">
                            Graf 1: \(f(x) = 2\lg(x) - 0.5(\lg(x))^2\)
                        </h5>
                        <canvas id="graph1" width="800" height="400" style="max-width: 100%; border: 1px solid #ddd; border-radius: 5px;"></canvas>
                        <p style="margin-top: 1rem; font-size: 0.95rem; color: #666;">
                            <strong>Notera:</strong> Grafen visar hur funktionen beter sig f√∂r olika \(x\)-v√§rden.
                            R√∂d punkt = nollst√§llen, gr√∂n punkt = maximum.
                        </p>
                    </div>

                    <!-- Graf 2: g(t) = 2t - 0.5t¬≤ (parabeln) -->
                    <div style="background: white; padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;">
                        <h5 style="color: #764ba2; text-align: center; margin-bottom: 1rem;">
                            Graf 2: \(g(t) = 2t - 0.5t^2\) d√§r \(t = \lg(x)\)
                        </h5>
                        <canvas id="graph2" width="800" height="400" style="max-width: 100%; border: 1px solid #ddd; border-radius: 5px;"></canvas>
                        <p style="margin-top: 1rem; font-size: 0.95rem; color: #666;">
                            <strong>Insikt:</strong> Efter substitution \(t = \lg(x)\) ser vi tydligt att det √§r en parabel!
                            Nollst√§llen vid \(t=0\) och \(t=4\), maximum vid \(t=2\).
                        </p>
                    </div>

                    <div style="background: #e3f2fd; padding: 1rem; border-radius: 5px; border-left: 4px solid #2196f3; margin-top: 1.5rem;">
                        <strong>üîç J√§mf√∂relse mellan graferna:</strong>
                        <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
                            <li><strong>Graf 1</strong> visar den "verkliga" funktionen med \(x\) p√• x-axeln (logaritmisk skala)</li>
                            <li><strong>Graf 2</strong> visar parabeln efter substitution med \(t = \lg(x)\) p√• x-axeln (linj√§r skala)</li>
                            <li>B√•da graferna har <strong>samma y-v√§rden</strong> - skillnaden √§r bara hur x-axeln skalas!</li>
                            <li>Graf 2 g√∂r det l√§ttare att <strong>se strukturen</strong> (en vanlig parabel)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- F√ñRDJUPNING LOGARITMER -->
        <div class="content-card">
            <h2>üöÄ F√∂rdjupning - Logaritmer</h2>
            <p>Vill du utmana dig ytterligare?</p>

            <div class="problem-statement">
                <strong>Utmaning 1:</strong> L√∂s ekvationen
                $$3\lg(x) - (\lg(x))^2 = 2$$

                <br><br>
                <strong>Utmaning 2:</strong> F√∂renkla uttrycket
                $$\lg(x^2) - 2\lg(x) + \lg(100)$$

                <br><br>
                <strong>Utmaning 3:</strong> F√∂r vilka \(x\) g√§ller
                $$2\lg(x) - 0.5(\lg(x))^2 > 0$$
            </div>

            <details style="margin-top: 1rem;">
                <summary style="cursor: pointer; color: #667eea; font-weight: bold;">
                    Visa l√∂sningshj√§lp (klicka h√§r)
                </summary>
                <div style="margin-top: 1rem; padding: 1rem; background: #f5f7fa; border-radius: 5px;">
                    <p><strong>Utmaning 1:</strong></p>
                    <ul>
                        <li>S√§tt \(t = \lg(x)\)</li>
                        <li>L√∂s \(3t - t^2 = 2\), dvs \(t^2 - 3t + 2 = 0\)</li>
                        <li>Faktorisera: \((t-1)(t-2) = 0\)</li>
                        <li>Svar: \(x = 10\) och \(x = 100\)</li>
                    </ul>

                    <p style="margin-top: 1rem;"><strong>Utmaning 2:</strong></p>
                    <ul>
                        <li>Anv√§nd \(\lg(x^2) = 2\lg(x)\) och \(\lg(100) = 2\)</li>
                        <li>\(2\lg(x) - 2\lg(x) + 2 = 2\)</li>
                        <li>Svar: Uttrycket = \(2\) (konstant!)</li>
                    </ul>

                    <p style="margin-top: 1rem;"><strong>Utmaning 3:</strong></p>
                    <ul>
                        <li>Vi vet nollst√§llena √§r \(x=1\) och \(x=10000\)</li>
                        <li>Parabeln √∂ppnar ned√•t</li>
                        <li>Uttrycket √§r positivt MELLAN nollst√§llena</li>
                        <li>Svar: \(1 < x < 10000\)</li>
                    </ul>
                </div>
            </details>
        </div>
        <footer>
            <h3>üîó Projektnavigation</h3>

            <div class="footer-grid">
                <div>
                    <h4 style="color: #4ECDC4; margin-bottom: 0.5rem;">üìÑ Dokumentation</h4>
                    <p><a href="README.md">üìñ README</a></p>
                    <p><a href="index.html">üè† Startsida</a></p>
                    <p><a href="fem_matteuppgifter.html">üìä √ñversikt</a></p>
                </div>

                <div>
                    <h4 style="color: #4ECDC4; margin-bottom: 0.5rem;">üìö Matematikkurser</h4>
                    <p><a href="matte1.html">üìê Matte 1</a></p>
                    <p><a href="matte2.html" class="current-page">üìä Matte 2 (Du √§r h√§r)</a></p>
                    <p><a href="matte3.html">üî¢ Matte 3</a></p>
                    <p><a href="matte4.html">üìê Matte 4</a></p>
                    <p><a href="matte5.html">üéØ Matte 5</a></p>
                </div>

                <div>
                    <h4 style="color: #4ECDC4; margin-bottom: 0.5rem;">ü§ñ Agenter</h4>
                    <p><a href="https://github.com/kentlundgren/AI/blob/main/Matematik/.claude/agents/math-tutor.md" target="_blank">üéì Math Tutor</a></p>
                    <p><a href="https://github.com/kentlundgren/AI/blob/main/Matematik/.claude/agents/problem-solver.md" target="_blank">üîß Problem Solver</a></p>
                    <p><a href="https://github.com/kentlundgren/AI/blob/main/Matematik/.claude/agents/exercise-creator.md" target="_blank">üìù Exercise Creator</a></p>
                </div>

                <div>
                    <h4 style="color: #4ECDC4; margin-bottom: 0.5rem;">üåê Externa L√§nkar</h4>
                    <p><a href="https://github.com/kentlundgren/AI/tree/main/Matematik" target="_blank">üíª GitHub</a></p>
                    <p><a href="https://kentlundgren.github.io/AI/Matematik/" target="_blank">üåç Live Demo</a></p>
                </div>
            </div>

            <div class="footer-bottom">
                <p>Skapad med <strong>Claude Code</strong> permanenta agenter</p>
                <p>¬© 2026 - Interaktiva matematik√∂vningar f√∂r gymnasiet</p>
            </div>
        </footer>
    </div>

    <script>
        // Quiz feedback data
        const quizData = {
            1: {
                correct: 'B',
                feedback: {
                    'A': {
                        correct: false,
                        text: '<h4>‚ùå Fel svar</h4><p>f\'(a) = 0 betyder att DERIVATAN √§r noll, inte funktionen. Derivatan m√§ter lutningen.</p><p><strong>R√§tt:</strong> N√§r derivatan √§r noll har funktionen horisontell tangent - en toppunkt eller bottenpunkt.</p>'
                    },
                    'B': {
                        correct: true,
                        text: '<h4>‚úÖ R√ÑTT!</h4><p>N√§r f\'(a) = 0 √§r lutningen noll vid x = a. Detta h√§nder vid extrempunkter - toppar eller bottnar.</p><p><strong>T√§nk p√•:</strong> Vid toppen av ett berg √§r marken tillf√§lligt platt (lutning = 0).</p>'
                    },
                    'C': {
                        correct: false,
                        text: '<h4>‚ùå Fel svar</h4><p>En konstant funktion har f\'(x) = 0 √∂verallt, men f\'(a) = 0 vid EN punkt betyder inte konstant funktion.</p><p><strong>Exempel:</strong> f(x) = x¬≤ har f\'(0) = 0, men v√§xer f√∂r x ‚â† 0.</p>'
                    },
                    'D': {
                        correct: false,
                        text: '<h4>‚ùå Fel svar</h4><p>f\'(a) = 0 betyder att derivatan HAR v√§rdet 0, inte att funktionen √§r odefinierad. Funktionen m√•ste vara v√§ldefinierad f√∂r att vi ska kunna derivera.</p>'
                    }
                }
            },
            2: {
                correct: 'B',
                feedback: {
                    'A': {
                        correct: false,
                        text: '<h4>‚ùå Fel svar</h4><p>Detta har vi redan gjort! f\'(a) = 0 ger kritisk punkt, men ber√§ttar inte om det √§r max eller min.</p><p><strong>R√§tt:</strong> Anv√§nd andraderivatatestet (f\'\'(a)) eller testa v√§rden runt punkten.</p>'
                    },
                    'B': {
                        correct: true,
                        text: '<h4>‚úÖ R√ÑTT!</h4><p>Andraderivatatestet √§r den eleganta metoden:</p><ul><li>f\'\'(a) < 0 ‚Üí konkav ‚Üí <strong>MAXIMUM</strong> ‚úÖ</li><li>f\'\'(a) > 0 ‚Üí konvex ‚Üí MINIMUM</li></ul><p>I v√•rt problem: V\'\'(5) = -120 < 0, s√• x = 5 ger maximum!</p>'
                    },
                    'C': {
                        correct: false,
                        text: '<h4>‚ùå Fel svar</h4><p>Du har bytt tecken! f\'\'(a) > 0 betyder konvex graf ‚Üí MINIMUM, inte maximum.</p><p><strong>Minnesregel:</strong> ‚òπ (konkav, f\'\' < 0) = MAX, üòä (konvex, f\'\' > 0) = MIN</p>'
                    },
                    'D': {
                        correct: false,
                        text: '<h4>‚ùå Inte b√§st</h4><p>Att plotta √§r BRA f√∂r intuition, men inte den mest exakta metoden.</p><p><strong>B√§st:</strong> Anv√§nd andraderivatatestet (f\'\'(a) < 0) f√∂r bevis, plotta f√∂r verifiering!</p>'
                    }
                }
            }
        };

        function checkAnswer(questionNum, selectedAnswer) {
            const feedbackElement = document.getElementById('feedback' + questionNum);
            const quizContainer = feedbackElement.closest('.quiz-question');
            const buttons = quizContainer.querySelectorAll('.option-btn');

            // Disable all buttons
            buttons.forEach(btn => btn.disabled = true);

            const data = quizData[questionNum];
            const isCorrect = selectedAnswer === data.correct;

            // Show feedback
            feedbackElement.className = isCorrect ? 'feedback correct' : 'feedback incorrect';
            feedbackElement.innerHTML = data.feedback[selectedAnswer].text;

            // Trigger MathJax
            if (typeof MathJax !== 'undefined') {
                MathJax.typesetPromise([feedbackElement]).catch((err) => console.log(err));
            }
        }

        function toggleSolution() {
            const solution = document.getElementById('solution-content');
            solution.classList.toggle('hidden-content');
            if (!solution.classList.contains('hidden-content')) {
                if (typeof MathJax !== 'undefined') {
                    MathJax.typesetPromise([solution]).catch((err) => console.log(err));
                }
            }
        }

        function toggleTips() {
            const tips = document.getElementById('tips-content');
            tips.classList.toggle('hidden-content');
        }

        function toggleGraph() {
            const graph = document.getElementById('graph-content');
            graph.classList.toggle('hidden-content');
            if (!graph.classList.contains('hidden-content')) {
                drawVolumeGraph();
            }
        }

        function drawVolumeGraph() {
            const canvas = document.getElementById('graph-canvas');
            const ctx = canvas.getContext('2d');

            // Clear canvas
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const padding = 60;
            const graphWidth = canvas.width - 2 * padding;
            const graphHeight = canvas.height - 2 * padding;

            // Axes
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, canvas.height - padding);
            ctx.lineTo(canvas.width - padding, canvas.height - padding);
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, canvas.height - padding);
            ctx.stroke();

            // Function V(x) = x(30-2x)^2
            const V = (x) => x * Math.pow(30 - 2*x, 2);
            const xMax = 15;
            const vMax = 2200;

            const xScale = graphWidth / xMax;
            const yScale = graphHeight / vMax;

            // Draw function
            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (let x = 0; x <= xMax; x += 0.1) {
                const xPos = padding + x * xScale;
                const yPos = canvas.height - padding - V(x) * yScale;
                if (x === 0) {
                    ctx.moveTo(xPos, yPos);
                } else {
                    ctx.lineTo(xPos, yPos);
                }
            }
            ctx.stroke();

            // Mark maximum at x=5
            const maxX = 5;
            const maxV = V(5);
            const maxXPos = padding + maxX * xScale;
            const maxYPos = canvas.height - padding - maxV * yScale;

            // Dashed line to maximum
            ctx.strokeStyle = '#28a745';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(maxXPos, canvas.height - padding);
            ctx.lineTo(maxXPos, maxYPos);
            ctx.stroke();
            ctx.setLineDash([]);

            // Point at maximum
            ctx.fillStyle = '#28a745';
            ctx.beginPath();
            ctx.arc(maxXPos, maxYPos, 8, 0, 2 * Math.PI);
            ctx.fill();

            // Labels
            ctx.fillStyle = '#333';
            ctx.font = '16px Arial';
            ctx.fillText('x (cm)', canvas.width - padding + 10, canvas.height - padding + 5);
            ctx.fillText('V (cm¬≥)', padding - 50, padding - 10);

            // X-axis ticks
            ctx.font = '14px Arial';
            for (let x = 0; x <= xMax; x += 5) {
                const xPos = padding + x * xScale;
                ctx.fillText(x, xPos - 5, canvas.height - padding + 25);
            }

            // Y-axis ticks
            for (let v = 0; v <= 2000; v += 500) {
                const yPos = canvas.height - padding - v * yScale;
                ctx.fillText(v, padding - 50, yPos + 5);
            }

            // Label maximum
            ctx.fillStyle = '#28a745';
            ctx.font = 'bold 16px Arial';
            ctx.fillText('Max: (5, 2000)', maxXPos + 15, maxYPos - 10);
        }
    </script>
</body>
</html>
